!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=265)}([function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n(81))},function(t,e,n){var r=n(2),o=n(56),i=n(7),u=n(37),a=n(57),c=n(90),s=o("wks"),f=r.Symbol,l=c?f:f&&f.withoutSetter||u;t.exports=function(t){return i(s,t)||(a&&i(f,t)?s[t]=f[t]:s[t]=l("Symbol."+t)),s[t]}},function(t,e,n){var r=n(2),o=n(24).f,i=n(12),u=n(13),a=n(45),c=n(92),s=n(43);t.exports=function(t,e){var n,f,l,p,d,h=t.target,v=t.global,g=t.stat;if(n=v?r:g?r[h]||a(h,{}):(r[h]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(d=o(n,f))&&d.value:n[f],!s(v?f:h+(g?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&i(p,"sham",!0),u(n,f,p,t)}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(1);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(8),o=n(72),i=n(6),u=n(25),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(i(t),e=u(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(19),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},,function(t,e,n){var r=n(8),o=n(9),i=n(22);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(2),o=n(12),i=n(7),u=n(45),a=n(60),c=n(18),s=c.get,f=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(c?!p&&t[e]&&(s=!0):delete t[e],s?t[e]=n:o(t,e,n)):s?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||a(this)}))},function(t,e,n){var r=n(16);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(34),o=n(16);t.exports=function(t){return r(o(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r,o,i,u=n(105),a=n(2),c=n(5),s=n(12),f=n(7),l=n(39),p=n(30),d=a.WeakMap;if(u){var h=new d,v=h.get,g=h.has,y=h.set;r=function(t,e){return y.call(h,t,e),e},o=function(t){return v.call(h,t)||{}},i=function(t){return g.call(h,t)}}else{var m=l("state");p[m]=!0,r=function(t,e){return s(t,m,e),e},o=function(t){return f(t,m)?t[m]:{}},i=function(t){return f(t,m)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(82),o=n(2),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(41),o=n(34),i=n(14),u=n(10),a=n(68),c=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,f=4==t,l=6==t,p=5==t||l;return function(d,h,v,g){for(var y,m,b=i(d),w=o(b),x=r(h,v,3),E=u(w.length),O=0,S=g||a,R=e?S(d,E):n?S(d,0):void 0;E>O;O++)if((p||O in w)&&(m=x(y=w[O],O,b),t))if(e)R[O]=m;else if(m)switch(t){case 3:return!0;case 5:return y;case 6:return O;case 2:c.call(R,y)}else if(f)return!1;return l?-1:s||f?f:R}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(9).f,o=n(7),i=n(3)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(8),o=n(65),i=n(22),u=n(15),a=n(25),c=n(7),s=n(72),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=a(e,!0),s)try{return f(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(5);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,n){var r=n(75),o=n(50).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(19),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r,o=n(6),i=n(108),u=n(50),a=n(30),c=n(98),s=n(62),f=n(39),l=f("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=r?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=u.length;n--;)delete h.prototype[u[n]];return h()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[l]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e){t.exports={}},function(t,e,n){var r=n(8),o=n(1),i=n(7),u=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(i(a,t))return a[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,f=i(e,0)?e[0]:c,l=i(e,1)?e[1]:void 0;return a[t]=!!n&&!o((function(){if(s&&!r)return!0;var t={length:-1};s?u(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,f,l)}))}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(4),o=n(38);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){var r=n(1),o=n(17),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(6),o=n(113);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){"use strict";var r,o,i=n(58),u=n(67),a=RegExp.prototype.exec,c=String.prototype.replace,s=a,f=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),l=u.UNSUPPORTED_Y||u.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(f||p||l)&&(s=function(t){var e,n,r,o,u=this,s=l&&u.sticky,d=i.call(u),h=u.source,v=0,g=t;return s&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),g=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),n=new RegExp("^(?:"+h+")",d)),p&&(n=new RegExp("^"+h+"$(?!\\s)",d)),f&&(e=u.lastIndex),r=a.call(s?n:u,g),s?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=u.lastIndex,u.lastIndex+=r[0].length):u.lastIndex=0:f&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=s},function(t,e,n){var r=n(56),o=n(37),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(6),o=n(35),i=n(3)("species");t.exports=function(t,e){var n,u=r(t).constructor;return void 0===u||null==(n=r(u)[i])?e:o(n)}},function(t,e,n){var r=n(35);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(17);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(1),o=/#|\.prototype\./,i=function(t,e){var n=a[u(t)];return n==s||n!=c&&("function"==typeof e?r(e):!!e)},u=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},c=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,n){var r={};r[n(3)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(2),o=n(12);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(44),o=n(17),i=n(3)("toStringTag"),u="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:u?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){"use strict";var r=n(15),o=n(91),i=n(32),u=n(18),a=n(85),c=u.set,s=u.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";n(33);var r=n(13),o=n(1),i=n(3),u=n(38),a=n(12),c=i("species"),s=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=i("replace"),p=!!/./[l]&&""===/./[l]("a","$0"),d=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,l){var h=i(t),v=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),g=v&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!v||!g||"replace"===t&&(!s||!f||p)||"split"===t&&!d){var y=/./[h],m=n(h,""[t],(function(t,e,n,r,o){return e.exec===u?v&&!o?{done:!0,value:y.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=m[0],w=m[1];r(String.prototype,t,b),r(RegExp.prototype,h,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}l&&a(RegExp.prototype[h],"sham",!0)}},function(t,e,n){var r=n(17),o=n(38);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(7),o=n(14),i=n(39),u=n(112),a=i("IE_PROTO"),c=Object.prototype;t.exports=u?Object.getPrototypeOf:function(t){return t=o(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(1),o=n(3),i=n(76),u=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[u]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},,function(t,e,n){var r=n(75),o=n(50);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(26),o=n(71);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(1);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){"use strict";var r=n(6);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(25),o=n(9),i=n(22);t.exports=function(t,e,n){var u=r(e);u in t?o.f(t,u,i(0,n)):t[u]=n}},function(t,e,n){var r=n(71),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){"use strict";var r=n(1);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(2),o=n(5),i=r.document,u=o(i)&&o(i.createElement);t.exports=function(t){return u?i.createElement(t):{}}},function(t,e,n){"use strict";var r=n(83).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(44),o=n(13),i=n(111);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){"use strict";var r=n(1);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(5),o=n(42),i=n(3)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(15),o=n(10),i=n(28),u=function(t){return function(e,n,u){var a,c=r(e),s=o(c.length),f=i(u,s);if(t&&n!=n){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},function(t,e,n){"use strict";var r=n(4),o=n(34),i=n(15),u=n(61),a=[].join,c=o!=Object,s=u("join",",");r({target:"Array",proto:!0,forced:c||!s},{join:function(t){return a.call(i(this),void 0===t?",":t)}})},function(t,e,n){var r=n(2),o=n(45),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(8),o=n(1),i=n(62);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(5),o=n(36);t.exports=function(t,e,n){var i,u;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(u=i.prototype)&&u!==n.prototype&&o(t,u),t}},function(t,e,n){"use strict";var r=n(13),o=n(6),i=n(1),u=n(58),a=RegExp.prototype,c=a.toString,s=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f="toString"!=c.name;(s||f)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in a)?u.call(t):n)}),{unsafe:!0})},function(t,e,n){var r=n(7),o=n(15),i=n(69).indexOf,u=n(30);t.exports=function(t,e){var n,a=o(t),c=0,s=[];for(n in a)!r(u,n)&&r(a,n)&&s.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r,o,i=n(2),u=n(104),a=i.process,c=a&&a.versions,s=c&&c.v8;s?o=(r=s.split("."))[0]+r[1]:u&&(!(r=u.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=u.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){"use strict";var r=n(48),o=n(6),i=n(14),u=n(10),a=n(19),c=n(16),s=n(63),f=n(49),l=Math.max,p=Math.min,d=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(t,e,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,m=g?"$":"$0";return[function(n,r){var o=c(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!g&&y||"string"==typeof r&&-1===r.indexOf(m)){var i=n(e,t,this,r);if(i.done)return i.value}var c=o(t),d=String(this),h="function"==typeof r;h||(r=String(r));var v=c.global;if(v){var w=c.unicode;c.lastIndex=0}for(var x=[];;){var E=f(c,d);if(null===E)break;if(x.push(E),!v)break;""===String(E[0])&&(c.lastIndex=s(d,u(c.lastIndex),w))}for(var O,S="",R=0,T=0;T<x.length;T++){E=x[T];for(var P=String(E[0]),I=l(p(a(E.index),d.length),0),L=[],A=1;A<E.length;A++)L.push(void 0===(O=E[A])?O:String(O));var C=E.groups;if(h){var j=[P].concat(L,I,d);void 0!==C&&j.push(C);var N=String(r.apply(void 0,j))}else N=b(P,d,I,L,C,r);I>=R&&(S+=d.slice(R,I)+N,R=I+P.length)}return S+d.slice(R)}];function b(t,n,r,o,u,a){var c=r+t.length,s=o.length,f=v;return void 0!==u&&(u=i(u),f=h),e.call(a,f,(function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=u[i.slice(1,-1)];break;default:var f=+i;if(0===f)return e;if(f>s){var l=d(f/10);return 0===l?e:l<=s?void 0===o[l-1]?i.charAt(1):o[l-1]+i.charAt(1):e}a=o[f-1]}return void 0===a?"":a}))}}))},function(t,e,n){var r=n(13);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(20),o=n(9),i=n(3),u=n(8),a=i("species");t.exports=function(t){var e=r(t),n=o.f;u&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(4),o=n(20),i=n(1),u=o("JSON","stringify"),a=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,f=function(t,e,n){var r=n.charAt(e-1),o=n.charAt(e+1);return c.test(t)&&!s.test(o)||s.test(t)&&!c.test(r)?"\\u"+t.charCodeAt(0).toString(16):t},l=i((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&r({target:"JSON",stat:!0,forced:l},{stringify:function(t,e,n){var r=u.apply(null,arguments);return"string"==typeof r?r.replace(a,f):r}})},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(2);t.exports=r},function(t,e,n){var r=n(19),o=n(16),i=function(t){return function(e,n){var i,u,a=String(o(e)),c=r(n),s=a.length;return c<0||c>=s?t?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===s||(u=a.charCodeAt(c+1))<56320||u>57343?t?a.charAt(c):i:t?a.slice(c,c+2):u-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){var r=n(2),o=n(97),i=n(126),u=n(12);for(var a in o){var c=r[a],s=c&&c.prototype;if(s&&s.forEach!==i)try{u(s,"forEach",i)}catch(t){s.forEach=i}}},function(t,e,n){"use strict";var r=n(4),o=n(115),i=n(51),u=n(36),a=n(23),c=n(12),s=n(13),f=n(3),l=n(26),p=n(32),d=n(93),h=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,g=f("iterator"),y=function(){return this};t.exports=function(t,e,n,f,d,m,b){o(n,e,f);var w,x,E,O=function(t){if(t===d&&I)return I;if(!v&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",R=!1,T=t.prototype,P=T[g]||T["@@iterator"]||d&&T[d],I=!v&&P||O(d),L="Array"==e&&T.entries||P;if(L&&(w=i(L.call(new t)),h!==Object.prototype&&w.next&&(l||i(w)===h||(u?u(w,h):"function"!=typeof w[g]&&c(w,g,y)),a(w,S,!0,!0),l&&(p[S]=y))),"values"==d&&P&&"values"!==P.name&&(R=!0,I=function(){return P.call(this)}),l&&!b||T[g]===I||c(T,g,I),p[e]=I,d)if(x={values:O("values"),keys:m?I:O("keys"),entries:O("entries")},b)for(E in x)(v||R||!(E in T))&&s(T,E,x[E]);else r({target:e,proto:!0,forced:v||R},x);return x}},function(t,e,n){"use strict";var r=n(4),o=n(5),i=n(42),u=n(28),a=n(10),c=n(15),s=n(59),f=n(3),l=n(53),p=n(31),d=l("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),v=f("species"),g=[].slice,y=Math.max;r({target:"Array",proto:!0,forced:!d||!h},{slice:function(t,e){var n,r,f,l=c(this),p=a(l.length),d=u(t,p),h=u(void 0===e?p:e,p);if(i(l)&&("function"!=typeof(n=l.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[v])&&(n=void 0):n=void 0,n===Array||void 0===n))return g.call(l,d,h);for(r=new(void 0===n?Array:n)(y(h-d,0)),f=0;d<h;d++,f++)d in l&&s(r,f,l[d]);return r.length=f,r}})},function(t,e,n){"use strict";var r=n(48),o=n(6),i=n(10),u=n(16),a=n(63),c=n(49);r("match",1,(function(t,e,n){return[function(e){var n=u(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var u=o(t),s=String(this);if(!u.global)return c(u,s);var f=u.unicode;u.lastIndex=0;for(var l,p=[],d=0;null!==(l=c(u,s));){var h=String(l[0]);p[d]=h,""===h&&(u.lastIndex=a(s,i(u.lastIndex),f)),d++}return 0===d?null:p}]}))},function(t,e,n){var r=n(46),o=n(32),i=n(3)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(48),o=n(94),i=n(6),u=n(16),a=n(40),c=n(63),s=n(10),f=n(49),l=n(38),p=n(1),d=[].push,h=Math.min,v=!p((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(u(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var a,c,s,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,v=new RegExp(t.source,p+"g");(a=l.call(v,r))&&!((c=v.lastIndex)>h&&(f.push(r.slice(h,a.index)),a.length>1&&a.index<r.length&&d.apply(f,a.slice(1)),s=a[0].length,h=c,f.length>=i));)v.lastIndex===a.index&&v.lastIndex++;return h===r.length?!s&&v.test("")||f.push(""):f.push(r.slice(h)),f.length>i?f.slice(0,i):f}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=u(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var u=n(r,t,this,o,r!==e);if(u.done)return u.value;var l=i(t),p=String(this),d=a(l,RegExp),g=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(v?"y":"g"),m=new d(v?l:"^(?:"+l.source+")",y),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===p.length)return null===f(m,p)?[p]:[];for(var w=0,x=0,E=[];x<p.length;){m.lastIndex=v?x:0;var O,S=f(m,v?p:p.slice(x));if(null===S||(O=h(s(m.lastIndex+(v?0:x)),p.length))===w)x=c(p,x,g);else{if(E.push(p.slice(w,x)),E.length===b)return E;for(var R=1;R<=S.length-1;R++)if(E.push(S[R]),E.length===b)return E;x=w=O}}return E.push(p.slice(w)),E}]}),!v)},function(t,e,n){var r=n(57);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(3),o=n(29),i=n(9),u=r("unscopables"),a=Array.prototype;null==a[u]&&i.f(a,u,{configurable:!0,value:o(null)}),t.exports=function(t){a[u][t]=!0}},function(t,e,n){var r=n(7),o=n(107),i=n(24),u=n(9);t.exports=function(t,e){for(var n=o(e),a=u.f,c=i.f,s=0;s<n.length;s++){var f=n[s];r(t,f)||a(t,f,c(e,f))}}},function(t,e,n){"use strict";var r,o,i,u=n(51),a=n(12),c=n(7),s=n(3),f=n(26),l=s("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),f||c(r,l)||a(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(5),o=n(17),i=n(3)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";n(33);var r,o,i=n(4),u=n(5),a=(r=!1,(o=/[ac]/).exec=function(){return r=!0,/./.exec.apply(this,arguments)},!0===o.test("abc")&&r),c=/./.test;i({target:"RegExp",proto:!0,forced:!a},{test:function(t){if("function"!=typeof this.exec)return c.call(this,t);var e=this.exec(t);if(null!==e&&!u(e))throw new Error("RegExp exec method returned something other than an Object or null");return!!e}})},function(t,e,n){"use strict";var r=n(4),o=n(1),i=n(42),u=n(5),a=n(14),c=n(10),s=n(59),f=n(68),l=n(53),p=n(3),d=n(76),h=p("isConcatSpreadable"),v=d>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=l("concat"),y=function(t){if(!u(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!v||!g},{concat:function(t){var e,n,r,o,i,u=a(this),l=f(u,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(y(i=-1===e?u:arguments[e])){if(p+(o=c(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&s(l,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(l,p++,i)}return l.length=p,l}})},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(20);t.exports=r("document","documentElement")},function(t,e,n){var r=n(3)("iterator"),o=!1;try{var i=0,u={next:function(){return{done:!!i++}},return:function(){o=!0}};u[r]=function(){return this},Array.from(u,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(8),o=n(9).f,i=Function.prototype,u=i.toString,a=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return u.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,n){var r=n(2),o=n(97),i=n(47),u=n(12),a=n(3),c=a("iterator"),s=a("toStringTag"),f=i.values;for(var l in o){var p=r[l],d=p&&p.prototype;if(d){if(d[c]!==f)try{u(d,c,f)}catch(t){d[c]=f}if(d[s]||u(d,s,l),o[l])for(var h in i)if(d[h]!==i[h])try{u(d,h,i[h])}catch(t){d[h]=i[h]}}}},function(t,e,n){"use strict";var r=n(83).charAt,o=n(18),i=n(85),u=o.set,a=o.getterFor("String Iterator");i(String,"String",(function(t){u(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=a(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},,function(t,e,n){var r=n(20);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(2),o=n(60),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(6),o=n(110),i=n(10),u=n(41),a=n(88),c=n(138),s=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var p,d,h,v,g,y,m,b=u(e,n,f?2:1);if(l)p=t;else{if("function"!=typeof(d=a(t)))throw TypeError("Target is not iterable");if(o(d)){for(h=0,v=i(t.length);v>h;h++)if((g=f?b(r(m=t[h])[0],m[1]):b(t[h]))&&g instanceof s)return g;return new s(!1)}p=d.call(t)}for(y=p.next;!(m=y.call(p)).done;)if("object"==typeof(g=c(p,b,m.value,f))&&g&&g instanceof s)return g;return new s(!1)}).stop=function(t){return new s(!0,t)}},function(t,e,n){var r=n(20),o=n(27),i=n(66),u=n(6);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(u(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(8),o=n(9),i=n(6),u=n(55);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=u(e),a=r.length,c=0;a>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(30),o=n(5),i=n(7),u=n(9).f,a=n(37),c=n(149),s=a("meta"),f=0,l=Object.isExtensible||function(){return!0},p=function(t){u(t,s,{value:{objectID:"O"+ ++f,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,s)){if(!l(t))return"F";if(!e)return"E";p(t)}return t[s].objectID},getWeakData:function(t,e){if(!i(t,s)){if(!l(t))return!0;if(!e)return!1;p(t)}return t[s].weakData},onFreeze:function(t){return c&&d.REQUIRED&&l(t)&&!i(t,s)&&p(t),t}};r[s]=!0},function(t,e,n){var r=n(3),o=n(32),i=r("iterator"),u=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||u[i]===t)}},function(t,e,n){"use strict";var r=n(44),o=n(46);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(1);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(5);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(4),o=n(139);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var r=n(93).IteratorPrototype,o=n(29),i=n(22),u=n(23),a=n(32),c=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),u(t,s,!1,!0),a[s]=c,t}},,function(t,e,n){"use strict";var r=n(4),o=n(28),i=n(19),u=n(10),a=n(14),c=n(68),s=n(59),f=n(53),l=n(31),p=f("splice"),d=l("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!p||!d},{splice:function(t,e){var n,r,f,l,p,d,g=a(this),y=u(g.length),m=o(t,y),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=y-m):(n=b-2,r=v(h(i(e),0),y-m)),y+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=c(g,r),l=0;l<r;l++)(p=m+l)in g&&s(f,l,g[p]);if(f.length=r,n<r){for(l=m;l<y-r;l++)d=l+n,(p=l+r)in g?g[d]=g[p]:delete g[d];for(l=y;l>y-r+n;l--)delete g[l-1]}else if(n>r)for(l=y-r;l>m;l--)d=l+n-1,(p=l+r-1)in g?g[d]=g[p]:delete g[d];for(l=0;l<n;l++)g[l+m]=arguments[l+2];return g.length=y-r+n,f}})},function(t,e,n){"use strict";var r=n(8),o=n(2),i=n(43),u=n(13),a=n(7),c=n(17),s=n(73),f=n(25),l=n(1),p=n(29),d=n(27).f,h=n(24).f,v=n(9).f,g=n(127).trim,y=o.Number,m=y.prototype,b="Number"==c(p(m)),w=function(t){var e,n,r,o,i,u,a,c,s=f(t,!1);if("string"==typeof s&&s.length>2)if(43===(e=(s=g(s)).charCodeAt(0))||45===e){if(88===(n=s.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(s.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+s}for(u=(i=s.slice(2)).length,a=0;a<u;a++)if((c=i.charCodeAt(a))<48||c>o)return NaN;return parseInt(i,r)}return+s};if(i("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var x,E=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof E&&(b?l((function(){m.valueOf.call(n)})):"Number"!=c(n))?s(new y(w(e)),n,E):w(e)},O=r?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;O.length>S;S++)a(y,x=O[S])&&!a(E,x)&&v(E,x,h(y,x));E.prototype=m,m.constructor=E,u(o,"Number",E)}},,,,,function(t,e,n){n(4)({target:"Object",stat:!0},{setPrototypeOf:n(36)})},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},,function(t,e,n){"use strict";var r=n(21).forEach,o=n(61),i=n(31),u=o("forEach"),a=i("forEach");t.exports=u&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(16),o="["+n(124)+"]",i=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),a=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(u,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},function(t,e){(function(e){t.exports=e}).call(this,{})},,function(t,e,n){"use strict";var r=n(4),o=n(2),i=n(43),u=n(13),a=n(109),c=n(106),s=n(52),f=n(5),l=n(1),p=n(99),d=n(23),h=n(73);t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),y=v?"set":"add",m=o[t],b=m&&m.prototype,w=m,x={},E=function(t){var e=b[t];u(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof m||!(g||b.forEach&&!l((function(){(new m).entries().next()})))))w=n.getConstructor(e,t,v,y),a.REQUIRED=!0;else if(i(t,!0)){var O=new w,S=O[y](g?{}:-0,1)!=O,R=l((function(){O.has(1)})),T=p((function(t){new m(t)})),P=!g&&l((function(){for(var t=new m,e=5;e--;)t[y](e,e);return!t.has(-0)}));T||((w=e((function(e,n){s(e,w,t);var r=h(new m,e,w);return null!=n&&c(n,r[y],r,v),r}))).prototype=b,b.constructor=w),(R||P)&&(E("delete"),E("has"),v&&E("get")),(P||S)&&E(y),g&&b.clear&&delete b.clear}return x[t]=w,r({global:!0,forced:w!=m},x),d(w,t),g||n.setStrong(w,t,v),w}},function(t,e,n){var r=n(15),o=n(27).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(r(t))}},,,,function(t,e,n){var r=n(4),o=n(14),i=n(55);r({target:"Object",stat:!0,forced:n(1)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},,function(t,e,n){"use strict";var r,o,i,u,a=n(4),c=n(26),s=n(2),f=n(20),l=n(181),p=n(13),d=n(78),h=n(23),v=n(79),g=n(5),y=n(35),m=n(52),b=n(17),w=n(60),x=n(106),E=n(99),O=n(40),S=n(142).set,R=n(185),T=n(182),P=n(186),I=n(144),L=n(187),A=n(18),C=n(43),j=n(3),N=n(76),k=j("species"),_="Promise",F=A.get,M=A.set,U=A.getterFor(_),D=l,q=s.TypeError,B=s.document,H=s.process,V=f("fetch"),W=I.f,G=W,X="process"==b(H),$=!!(B&&B.createEvent&&s.dispatchEvent),z=C(_,(function(){if(!(w(D)!==String(D))){if(66===N)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(c&&!D.prototype.finally)return!0;if(N>=51&&/native code/.test(D))return!1;var t=D.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[k]=e,!(t.then((function(){}))instanceof e)})),J=z||!E((function(t){D.all(t).catch((function(){}))})),K=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;R((function(){for(var o=e.value,i=1==e.state,u=0;r.length>u;){var a,c,s,f=r[u++],l=i?f.ok:f.fail,p=f.resolve,d=f.reject,h=f.domain;try{l?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===l?a=o:(h&&h.enter(),a=l(o),h&&(h.exit(),s=!0)),a===f.promise?d(q("Promise-chain cycle")):(c=K(a))?c.call(a,p,d):p(a)):d(o)}catch(t){h&&!s&&h.exit(),d(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Z(t,e)}))}},Y=function(t,e,n){var r,o;$?((r=B.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),s.dispatchEvent(r)):r={promise:e,reason:n},(o=s["on"+t])?o(r):"unhandledrejection"===t&&P("Unhandled promise rejection",n)},Z=function(t,e){S.call(s,(function(){var n,r=e.value;if(tt(e)&&(n=L((function(){X?H.emit("unhandledRejection",r,t):Y("unhandledrejection",t,r)})),e.rejection=X||tt(e)?2:1,n.error))throw n.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(s,(function(){X?H.emit("rejectionHandled",t):Y("rejectionhandled",t,e.value)}))},nt=function(t,e,n,r){return function(o){t(e,n,o,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,Q(t,e,!0))},ot=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw q("Promise can't be resolved itself");var o=K(n);o?R((function(){var r={done:!1};try{o.call(n,nt(ot,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}})):(e.value=n,e.state=1,Q(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};z&&(D=function(t){m(this,D,_),y(t),r.call(this);var e=F(this);try{t(nt(ot,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){M(this,{type:_,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(D.prototype,{then:function(t,e){var n=U(this),r=W(O(this,D));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=X?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=F(t);this.promise=t,this.resolve=nt(ot,t,e),this.reject=nt(rt,t,e)},I.f=W=function(t){return t===D||t===i?new o(t):G(t)},c||"function"!=typeof l||(u=l.prototype.then,p(l.prototype,"then",(function(t,e){var n=this;return new D((function(t,e){u.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return T(D,V.apply(s,arguments))}}))),a({global:!0,wrap:!0,forced:z},{Promise:D}),h(D,_,!1,!0),v(_),i=f(_),a({target:_,stat:!0,forced:z},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),a({target:_,stat:!0,forced:c||z},{resolve:function(t){return T(c&&this===i?D:this,t)}}),a({target:_,stat:!0,forced:J},{all:function(t){var e=this,n=W(e),r=n.resolve,o=n.reject,i=L((function(){var n=y(e.resolve),i=[],u=0,a=1;x(t,(function(t){var c=u++,s=!1;i.push(void 0),a++,n.call(e,t).then((function(t){s||(s=!0,i[c]=t,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=W(e),r=n.reject,o=L((function(){var o=y(e.resolve);x(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(6);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){"use strict";var r=n(8),o=n(1),i=n(55),u=n(66),a=n(65),c=n(14),s=n(34),f=Object.assign,l=Object.defineProperty;t.exports=!f||o((function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=i(f({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,f=1,l=u.f,p=a.f;o>f;)for(var d,h=s(arguments[f++]),v=l?i(h).concat(l(h)):i(h),g=v.length,y=0;g>y;)d=v[y++],r&&!p.call(h,d)||(n[d]=h[d]);return n}:f},,,function(t,e,n){var r,o,i,u=n(2),a=n(1),c=n(17),s=n(41),f=n(98),l=n(62),p=n(143),d=u.location,h=u.setImmediate,v=u.clearImmediate,g=u.process,y=u.MessageChannel,m=u.Dispatch,b=0,w={},x=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},E=function(t){return function(){x(t)}},O=function(t){x(t.data)},S=function(t){u.postMessage(t+"",d.protocol+"//"+d.host)};h&&v||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},v=function(t){delete w[t]},"process"==c(g)?r=function(t){g.nextTick(E(t))}:m&&m.now?r=function(t){m.now(E(t))}:y&&!p?(i=(o=new y).port2,o.port1.onmessage=O,r=s(i.postMessage,i,1)):!u.addEventListener||"function"!=typeof postMessage||u.importScripts||a(S)?r="onreadystatechange"in l("script")?function(t){f.appendChild(l("script")).onreadystatechange=function(){f.removeChild(this),x(t)}}:function(t){setTimeout(E(t),0)}:(r=S,u.addEventListener("message",O,!1))),t.exports={set:h,clear:v}},function(t,e,n){var r=n(104);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){"use strict";var r=n(35),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},,function(t,e,n){"use strict";var r=n(4),o=n(21).map,i=n(53),u=n(31),a=i("map"),c=u("map");r({target:"Array",proto:!0,forced:!a||!c},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},,,function(t,e,n){var r=n(1);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},,,,function(t,e,n){var r=n(4),o=n(1),i=n(15),u=n(24).f,a=n(8),c=o((function(){u(1)}));r({target:"Object",stat:!0,forced:!a||c,sham:!a},{getOwnPropertyDescriptor:function(t,e){return u(i(t),e)}})},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(9).f,o=n(29),i=n(78),u=n(41),a=n(52),c=n(106),s=n(85),f=n(79),l=n(8),p=n(109).fastKey,d=n(18),h=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,r){a(t,f,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&c(r,t[s],t,n)})),d=v(e),g=function(t,e,n){var r,o,i=d(t),u=y(t,e);return u?u.value=n:(i.last=u={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=u),r&&(r.next=u),l?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},y=function(t,e){var n,r=d(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(f.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=d(this),n=y(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=d(this),r=u(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),i(f.prototype,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return d(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",o=v(e),i=v(r);s(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},,function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){var r=n(4),o=n(1),i=n(131).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},function(t,e,n){var r=n(2);t.exports=r.Promise},function(t,e,n){var r=n(6),o=n(5),i=n(144);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(4),o=n(127).trim;r({target:"String",proto:!0,forced:n(214)("trim")},{trim:function(){return o(this)}})},,function(t,e,n){var r,o,i,u,a,c,s,f,l=n(2),p=n(24).f,d=n(17),h=n(142).set,v=n(143),g=l.MutationObserver||l.WebKitMutationObserver,y=l.process,m=l.Promise,b="process"==d(y),w=p(l,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(b&&(t=y.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?u():i=void 0,t}}i=void 0,t&&t.enter()},b?u=function(){y.nextTick(r)}:g&&!v?(a=!0,c=document.createTextNode(""),new g(r).observe(c,{characterData:!0}),u=function(){c.data=a=!a}):m&&m.resolve?(s=m.resolve(void 0),f=s.then,u=function(){f.call(s,r)}):u=function(){h.call(l,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,u()),i=e}},function(t,e,n){var r=n(2);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},,,function(t,e,n){n(4)({global:!0},{globalThis:n(2)})},function(t,e,n){"use strict";var r=n(4),o=n(69).includes,i=n(91);r({target:"Array",proto:!0,forced:!n(31)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(4),o=n(205),i=n(16);r({target:"String",proto:!0,forced:!n(206)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(4),o=n(21).filter,i=n(53),u=n(31),a=i("filter"),c=u("filter");r({target:"Array",proto:!0,forced:!a||!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(130),o=n(177);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){var r=n(4),o=n(1),i=n(14),u=n(51),a=n(112);r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!a},{getPrototypeOf:function(t){return u(i(t))}})},,,,,,,,,,function(t,e,n){var r=n(94);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(3)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(19),o=n(16);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){"use strict";var r=n(4),o=n(21).find,i=n(91),u=n(31),a=!0,c=u("find");"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var r=n(4),o=n(21).findIndex,i=n(91),u=n(31),a=!0,c=u("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a||!c},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},,,,function(t,e,n){"use strict";var r=n(78),o=n(109).getWeakData,i=n(6),u=n(5),a=n(52),c=n(106),s=n(21),f=n(7),l=n(18),p=l.set,d=l.getterFor,h=s.find,v=s.findIndex,g=0,y=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},b=function(t,e){return h(t.entries,(function(t){return t[0]===e}))};m.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=v(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,s){var l=t((function(t,r){a(t,l,e),p(t,{type:e,id:g++,frozen:void 0}),null!=r&&c(r,t[s],t,n)})),h=d(e),v=function(t,e,n){var r=h(t),u=o(i(e),!0);return!0===u?y(r).set(e,n):u[r.id]=n,t};return r(l.prototype,{delete:function(t){var e=h(this);if(!u(t))return!1;var n=o(t);return!0===n?y(e).delete(t):n&&f(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!u(t))return!1;var n=o(t);return!0===n?y(e).has(t):n&&f(n,e.id)}}),r(l.prototype,n?{get:function(t){var e=h(this);if(u(t)){var n=o(t);return!0===n?y(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return v(this,t,e)}}:{add:function(t){return v(this,t,!0)}}),l}}},function(t,e,n){var r=n(1),o=n(124);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},,,,function(t,e,n){"use strict";var r=n(4),o=n(19),i=n(226),u=n(207),a=n(1),c=1..toFixed,s=Math.floor,f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)};r({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){c.call({})}))},{toFixed:function(t){var e,n,r,a,c=i(this),l=o(t),p=[0,0,0,0,0,0],d="",h="0",v=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*p[n],p[n]=r%1e7,r=s(r/1e7)},g=function(t){for(var e=6,n=0;--e>=0;)n+=p[e],p[e]=s(n/t),n=n%t*1e7},y=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==p[t]){var n=String(p[t]);e=""===e?n:e+u.call("0",7-n.length)+n}return e};if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*f(2,69,1))-69)<0?c*f(2,-e,1):c/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(v(0,n),r=l;r>=7;)v(1e7,0),r-=7;for(v(f(10,r,1),0),r=e-1;r>=23;)g(1<<23),r-=23;g(1<<r),v(1,1),g(2),h=y()}else v(0,n),v(1<<-e,0),h=y()+u.call("0",l);return h=l>0?d+((a=h.length)<=l?"0."+u.call("0",l-a)+h:h.slice(0,a-l)+"."+h.slice(a-l)):d+h}})},function(t,e,n){"use strict";n(130)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(213))},,,,,,,function(t,e,n){var r=n(17);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},,,,,,function(t,e,n){var r=n(4),o=n(8),i=n(107),u=n(15),a=n(24),c=n(59);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=u(t),o=a.f,s=i(r),f={},l=0;s.length>l;)void 0!==(n=o(r,e=s[l++]))&&c(f,e,n);return f}})},function(t,e,n){n(4)({target:"String",proto:!0},{repeat:n(207)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),function(t){var e=n(0),r=n.n(e);n(190),n(100),n(64),n(84),n(208),n(266),n(47),n(102),n(219),n(101),n(114),n(135),n(153),n(123),n(117),n(70),n(146),n(180),n(86),n(33),n(89),n(95),n(96),n(193),n(118),n(77),n(80),n(183),n(209),n(232),n(195),n(74),n(218),n(137),n(233),n(87),n(191),n(192),n(194);!function(e,o){"object"==("undefined"==typeof exports?"undefined":r()(exports))&&void 0!==t?t.exports=o():"function"==typeof define&&n(128)?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).Aegis=o()}(void 0,(function(){var t,e;function n(e){this.name="__st"+(1e9*Math.random()>>>0)+t+"__",null!=e&&e.forEach(this.add,this),t+=1}Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,value:function(t){if(null===this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r=arguments[1],o=0;o<n;){var i=e[o];if(t.call(r,i,o,e))return i;o+=1}}}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){return this.substring(e=!e||e<0?0:+e,e+t.length)===t}}),window.WeakSet||(t=Date.now()%1e9,n.prototype.add=function(t){var e=this.name;return t[e]||Object.defineProperty(t,e,{value:!0,writable:!0}),this},n.prototype.delete=function(t){return!!t[this.name]&&!(t[this.name]=void 0)},n.prototype.has=function(t){return!!t[this.name]},e=n,Object.defineProperty(window,"WeakSet",{value:function(t){return new e(t)}})),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++)if(null!=(r=arguments[n]))for(var r=Object(r),o=Object.keys(Object(r)),i=0,u=o.length;i<u;i++){var a=o[i],c=Object.getOwnPropertyDescriptor(r,a);null!=c&&c.enumerable&&(e[a]=r[a])}return e}});var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function u(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],u=0,a=i.length;u<a;u++,o++)r[o]=i[u];return r}function a(t){try{return encodeURIComponent(decodeURIComponent(t))}catch(e){return t}}l.prototype.indexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n].callback===e)return n;return-1},l.prototype.on=function(t,e,n){var r;if(void 0===n&&(n=0),this)return(r=this.eventsList[t])||(this.eventsList[t]=[],r=this.eventsList[t]),-1===this.indexOf(r,e)&&r.push({name:t,type:n||0,callback:e}),this},l.prototype.one=function(t,e){this.on(t,e,1)},l.prototype.remove=function(t,e){if(this){var n=this.eventsList[t];if(!n)return null;if(e)return n.length&&(e=this.indexOf(n,e),n.splice(e,1)),this;try{delete this.eventsList[t]}catch(t){}return null}},l.prototype.clear=function(){this.eventsList={}};var c,s=l,f=function(t){return(t=Array.isArray(t)?t:[t]).map((function(t,e){return Object.getOwnPropertyNames(t).map((function(n){return a(n)+"["+e+"]="+(void 0===t[n]?"":a(t[n]))})).join("&")})).join("&")+(t.length?"&count="+t.length:"")};function l(){var t=this;this.emit=function(e,n){if(t){var r;if(null!=(o=t.eventsList[e])&&o.length)for(var o=o.slice(),i=0;i<o.length;i++){r=o[i];try{var u=r.callback.apply(t,[n]);if(1===r.type&&t.remove(e,r.callback),!1===u)break}catch(e){throw e}}return t}},this.eventsList={}}function p(t,e){return"number"==typeof t||"string"==typeof t?t:e?c.string:c.number}function d(t,e){return"string"==typeof t?t.split("?")[e?1:0]||"":t}function h(t){return"string"==typeof t&&t.startsWith("//")?"undefined"!=typeof location&&"https:"===location.protocol:/^https/.test(t)}function v(t){return x.some((function(e){return-1!==t.indexOf(e)}))}function g(t,e,n){var r,o;try{if("function"==typeof(null==e?void 0:e.retCodeHandler))return{code:void 0===(i=(o=e.retCodeHandler(t,null==n?void 0:n.url,null==n?void 0:n.ctx)||{}).code)?"unknown":i,isErr:o.isErr};"string"==typeof t&&(t=JSON.parse(t)),"function"==typeof(null==(r=null==e?void 0:e.ret)?void 0:r.join)&&(E=[].concat(e.ret.map((function(t){return t.toLowerCase()}))));var i,u=Object.getOwnPropertyNames(t).filter((function(t){return-1!==E.indexOf(t.toLowerCase())}));return u.length?{code:""+(i=Number(t[u[0]])),isErr:0!==i}:{code:"unknown",isErr:!1}}catch(t){return{code:"unknown",isErr:!1}}}function y(t,e){void 0===e&&(e=3);var n,o,i,u="";return Array.isArray(t)?(u+="[",n=t.length,t.forEach((function(t,o){var i,a;u=(u+="object"==r()(t)&&1<e?y(t,e-1):(a="",a+="undefined"==(i=r()(t=t))||"symbol"==i||"function"==i?"null":"string"==i||"object"==i?'"'+t+'"':t))+(o===n-1?"":",")})),u+="]"):t instanceof Object?(u="{",o=Object.keys(t),i=o.length,o.forEach((function(n,a){var c,s,f;"object"==r()(t[n])&&1<e?u+='"'+n+'":'+y(t[n],e-1):u+=(c=t[n=n],f="","string"==(s=r()(c))||"object"==s?f+='"'+n+'":"'+c+'"':"function"==typeof c?f+='"'+n+'":"function '+c.name+'"':"symbol"==r()(c)?f+='"'+n+'":"symbol"':"number"!=typeof c&&"boolean"!=s||(f+='"'+n+'": '+c),f),u+=a===i-1||a<i-1&&void 0===t[o[a+1]]?"":","})),u+="}"):u+=t,u}(X=c=c||{})[X.number=-1]="number",X.string="";var m,b,w,x=["application/octet-stream","application/xhtml+xml","application/xml","application/pdf","application/pkcs12","application/javascript","application/ecmascript","application/vnd.mspowerpoint","application/ogg","text/css","text/javascript","image","audio","video"],E=["ret","retcode","code","errcode"],O=function(){var t=[],e=[];return function(n,o){if(o instanceof Error)return"Error.message: "+o.message+" \n  Error.stack: "+o.stack;if("object"==r()(o)&&null!==o){var i=t.indexOf(o);if(-1!==i)return"[Circular "+e[i]+"]";t.push(o),e.push(n||"root")}return o}},S=function(t){if("string"==typeof t)return t;try{return(JSON.stringify(t,O(),4)||"undefined").replace(/"/gim,"")}catch(t){return"error happen when aegis stringify: \n "+t.message+" \n "+t.stack}},R=(I.prototype.sourceURL=function(){return this.data.responseURL},I.prototype.status=function(){return Number(this.data.status)},I.prototype.headers=function(){var t=this.data.getAllResponseHeaders().split("\n"),e={};return t.forEach((function(t){var n;t&&(n=(t=t.split(": "))[0],t=t[1].trim(),e[n]=t)})),e},I),T=(P.prototype.sourceURL=function(){return this.data.url},P.prototype.status=function(){return Number(this.data.status)},P.prototype.headers=function(){var t={};return this.data.headers.forEach((function(e,n){t[n]=e})),t},P);function P(t,e){this.type="fetch",this.data=t||{},this.data.response=e}function I(t){this.type="xhr",this.data=t}function L(t,e){var n,r=[],o=t.config;return t.lifeCycle.on("destroy",(function(){r.length=0})),function(i,u){if(Array.isArray(i)?r=r.concat(i):r.push(i),e&&r.length>=e||t.sendNow&&0<r.length)return r=B(r),u(r.splice(0,r.length)),void(n&&clearTimeout(n));n&&clearTimeout(n),n=setTimeout((function(){n=null,0<(r=B(r)).length&&u(r.splice(0,r.length))}),o.delay)}}function A(t,e){return Array.isArray(t)?e(t.map((function(t){return i(i({},t),{msg:"string"==typeof t.msg?t.msg:[].concat(t.msg).map(S).join(" ")})}))):e([i(i({},t),{msg:"string"==typeof t.msg?t.msg:S(t.msg)})])}function C(t){return function(e,n){t.lifeCycle.emit("modifyRequest",e);var o=t.config.modifyRequest;if("function"==typeof o)try{var i=o(e);"object"==r()(i)&&"url"in i&&(e=i)}catch(e){console.error(e)}n(e)}}function j(t){return function(e,n){t.lifeCycle.emit("afterRequest",e);var r=t.config.afterRequest;"function"==typeof r&&!1===r(e)||n(e)}}function N(t){if(t&&t.reduce&&t.length)return 1===t.length?function(e,n){t[0](e,n||G)}:t.reduce((function(t,e){return function(n,r){return void 0===r&&(r=G),t(n,(function(t){return null==e?void 0:e(t,r)}))}}));throw new TypeError("createPipeline need at least one function param")}function k(t,e){Object.getOwnPropertyNames(t).forEach((function(n){"function"==typeof t[n]&&"constructor"!==n&&(e?e[n]="sendPipeline"===n?function(){return function(){}}:function(){}:t[n]=function(){})}))}function _(){return void 0!==window.performance&&"function"==typeof performance.clearResourceTimings&&"function"==typeof performance.getEntriesByType&&"function"==typeof performance.now}function F(t,e){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)}function M(t){if(Z.find((function(e){return e.name===t.name})))throw new Error("name '"+t.name+"' is already in hackXHR option list");var e,n;Z.push(t),!Y&&window.XMLHttpRequest&&(Y=!0,e=window.XMLHttpRequest.prototype.send,n=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(){if(this.aegisMethod=arguments[0],this.aegisUrl=arguments[1],this.aegisXhrStartTime=Date.now(),!this.sendByAegis)for(var t=0;t<Z.length;t++){var e=Z[t];try{"function"==typeof e.open&&e.open(this)}catch(t){}}return n.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){if(!this.sendByAegis)for(var t=0;t<Z.length;t++){var n=Z[t];try{"function"==typeof n.send&&n.send(this,arguments[0])}catch(t){}}return e.apply(this,arguments)})}function U(t){var e=Z.findIndex((function(e){return e.name===t.name}));-1!==e&&Z.splice(e,1)}(X=m=m||{}).INFO_ALL="-1",X.API_RESPONSE="1",X.INFO="2",X.ERROR="4",X.PROMISE_ERROR="8",X.AJAX_ERROR="16",X.SCRIPT_ERROR="32",X.IMAGE_ERROR="64",X.CSS_ERROR="128",X.CONSOLE_ERROR="256",X.MEDIA_ERROR="512",X.RET_ERROR="1024",X.REPORT="2048",X.PV="4096",X.EVENT="8192",X.PAGE_NOT_FOUND_ERROR="16384",X.WEBSOCKET_ERROR="32768",(X=b=b||{}).LOG="log",X.SPEED="speed",X.PERFORMANCE="performance",X.OFFLINE="offline",X.WHITE_LIST="whiteList",X.VITALS="vitals",X.PV="pv",X.CUSTOM_PV="customPV",X.EVENT="event",X.CUSTOM="custom",X.SDK_ERROR="sdkError",X.SET_DATA="setData",(X=w=w||{}).production="production",X.gray="gray",X.pre="pre",X.daily="daily",X.local="local",X.test="test",X.others="others";var D,q,B=function(t){return t.filter((function(e,n){return"static"!==e.type||!t.find((function(t,r){return e.url===t.url&&200===e.status&&n<r}))}))},H=function(t){t.level===m.INFO_ALL&&(t.level=m.INFO)},V=function(t){return(Array.isArray(t)?t:[t]).map((function(t){return Object.getOwnPropertyNames(t).reduce((function(e,n){return"ctx"!==n&&(e[n]=t[n]),e}),{level:m.INFO,msg:""})}))},W=function(t){return function(e){return t.sendPipeline([function(e,n){return n({url:t.config.url||"",data:f(V(e)),method:"post",contentType:"application/x-www-form-urlencoded",type:b.LOG,log:e,requestConfig:{timeout:5e3},success:function(){var r=t.config.onReport;"function"==typeof r&&e.forEach((function(t){r(t)})),"function"==typeof n&&n([])},fail:function(e){"403 forbidden"===e&&t.destroy()}})}],b.LOG)(e)}},G=function(){},X=(Object.defineProperty(ot.prototype,"__version__",{get:function(){return console.warn("__version__ has discard, please use version"),"1.36.13"},enumerable:!1,configurable:!0}),Object.defineProperty(ot.prototype,"LogType",{get:function(){return console.warn("LogType has discard, please use logType"),m},enumerable:!1,configurable:!0}),ot.prototype.init=function(t){this.setConfig(t);for(var e=0;e<ot.installedPlugins.length;e++)try{ot.installedPlugins[e].patch(this)}catch(t){this.sendSDKError(t)}this.lifeCycle.emit("onInited")},ot.prototype.setConfig=function(t){Object.assign(this.config,t);var e=(t=this.config).id,n=t.uin,r=t.version,o=t.ext1,i=t.ext2,u=t.ext3,a=t.aid,c=void 0===(s=t.env)?"production":s,s=t.pageUrl;t=this.bean.id!==e||this.bean.uin!==n||this.bean.aid!==a;return this.bean.id=e||"",this.bean.uin=n||"",this.bean.version=r||"1.36.13",this.bean.aid=a||"",this.bean.env=function(){switch(c){case w.production:case w.gray:case w.pre:case w.daily:case w.local:case w.test:case w.others:return 1;default:return}}()?c:w.others,s&&this.extendBean("from",encodeURIComponent(s)),o&&this.extendBean("ext1",encodeURIComponent(o)),i&&this.extendBean("ext2",encodeURIComponent(i)),u&&this.extendBean("ext3",encodeURIComponent(u)),t&&this.lifeCycle.emit("onConfigChange",this.config),this.config},ot.use=function(t){-1===ot.installedPlugins.indexOf(t)&&t.aegisPlugin&&ot.installedPlugins.push(t)},ot.unuse=function(t){-1!==(t=ot.installedPlugins.indexOf(t))&&ot.installedPlugins.splice(t,1)},ot.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={level:m.INFO,msg:t};1===t.length&&t[0].msg&&Object.assign(n,i({},t[0]),{level:m.INFO}),this.normalLogPipeline(n)},ot.prototype.infoAll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={level:m.INFO_ALL,msg:t};1===t.length&&t[0].msg&&Object.assign(n,i({},t[0]),{level:m.INFO_ALL}),this.normalLogPipeline(n)},ot.prototype.report=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={level:m.REPORT,msg:t};1===t.length&&t[0].msg&&Object.assign(n,i({},t[0])),this.normalLogPipeline(n)},ot.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={level:m.ERROR,msg:t};1===t.length&&t[0].msg&&Object.assign(n,i({},t[0]),{level:m.ERROR}),this.normalLogPipeline(n)},ot.prototype.speedLogPipeline=function(t){throw new Error('You need to override "speedLogPipeline" method')},ot.prototype.reportPv=function(t){var e,n=this;t&&(console.warn("reportPv is deprecated, please use reportEvent"),e=""+Object.getOwnPropertyNames(this.bean).filter((function(t){return"id"!==t})).map((function(t){return t+"="+n.bean[t]})).join("&"),this.sendPipeline([function(r,o){o({url:n.config.url+"/"+t+"?"+e,addBean:!1,type:b.CUSTOM_PV,fail:function(t){"403 forbidden"===t&&n.destroy()}})}],b.CUSTOM_PV)(null))},ot.prototype.reportEvent=function(t){t&&((t="string"==typeof t?{name:t,ext1:this.config.ext1||"",ext2:this.config.ext2||"",ext3:this.config.ext3||""}:t).name?this.eventPipeline(t):console.warn("reportEvent params error"))},ot.prototype.reportTime=function(t,e){if("object"==r()(t))return this.reportT(t);"string"==typeof t?"number"==typeof e?e<0||6e4<e?console.warn("reportTime: duration must between 0 and 60000"):this.submitCustomTime(t,e):console.warn("reportTime: second param must be number"):console.warn("reportTime: first param must be a string")},ot.prototype.reportT=function(t){var e=t.name,n=t.duration,r=void 0===(r=t.ext1)?"":r,o=void 0===(o=t.ext2)?"":o,i=void 0===(i=t.ext3)?"":i;t=t.from;if("string"==typeof e&&"number"==typeof n&&"string"==typeof r&&"string"==typeof o&&"string"==typeof i){if(!(n<0||6e4<n))return this.submitCustomTime(e,n,r,o,i,void 0===t?"":t);console.warn("reportTime: duration must between 0 and 60000")}else console.warn("reportTime: params error")},ot.prototype.time=function(t){"string"==typeof t?this.timeMap[t]?console.warn("Timer "+t+" already exists"):this.timeMap[t]=Date.now():console.warn("time: first param must be a string")},ot.prototype.timeEnd=function(t){"string"==typeof t?this.timeMap[t]?(this.submitCustomTime(t,Date.now()-this.timeMap[t]),delete this.timeMap[t]):console.warn("Timer "+t+" does not exist"):console.warn("timeEnd: first param must be a string")},ot.prototype.submitCustomTime=function(t,e,n,r,o,i){this.customTimePipeline({name:t,duration:e,ext1:n||this.config.ext1,ext2:r||this.config.ext2,ext3:o||this.config.ext3,from:i||void 0})},ot.prototype.extendBean=function(t,e){this.bean[t]=e},ot.prototype.sendPipeline=function(t,e){var n,r,o,a=this;return N(u([function(t,e){if("number"!=typeof n.config.random&&(console.warn("random must in [0, 1], default is 1."),n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||e(t);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,e(t);n.isHidden=!0}},(o=e,function(t,e){var n=Array.isArray(t),u=n?t:[t],a=(r.lifeCycle.emit("beforeRequest",t),r.config.beforeRequest);(u="function"==typeof a?u.map((function(t){try{var e=a({logs:t,logType:o});return(null==e?void 0:e.logType)===o&&null!=e&&e.logs?e.logs:!1!==e&&t}catch(e){return t}})).filter((function(t){return!1!==t})):u).length&&(u=function(t,e){if(!Array.isArray(t)||t.length<=1)return t;var n=[],r=[];return!(r="string"==typeof e?[e]:e)||r.length<=0||(r.forEach((function(e){t.forEach((function(t){null!=t&&t[e]&&n.push(e)}))})),0<n.length&&(t=t.map((function(t){var e={};return n.forEach((function(t){e[t]=""})),i(i({},e),t)})))),t}(u,["ext1","ext2","ext3"]),e(n?u:u[0]))})],t,[C(r=n=this),function(t,e){a.request(t,(function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];a.failRequestCount=0,e({isErr:!1,result:r,logType:null==t?void 0:t.type,logs:null==t?void 0:t.log}),null!=(n=null==t?void 0:t.success)&&n.call.apply(n,u([t],r))}),(function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];10<=++a.failRequestCount&&a.destroy(),e({isErr:!0,result:r,logType:null==t?void 0:t.type,logs:null==t?void 0:t.log}),null!=(n=null==t?void 0:t.fail)&&n.call.apply(n,u([t],r))}))},j(this)]))},ot.prototype.send=function(t,e,n){var r=this;return N([C(this),function(t,o){r.request(t,(function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];o({isErr:!1,result:n,logType:t.type,logs:t.log}),null!=e&&e.apply(void 0,n)}),(function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o({isErr:!0,result:e,logType:t.type,logs:t.log}),null!=n&&n.apply(void 0,e)}))},j(this)])(t)},ot.prototype.request=function(t,e,n){throw new Error('You need to override "request" method')},ot.prototype.sendSDKError=function(t){var e=this;this.sendPipeline([function(t,n){n({url:e.config.url+"?id=1085&msg[0]="+encodeURIComponent(S(t))+"&level[0]=2&from="+e.config.id+"&count=1&version="+e.config.id+"(1.36.13)",addBean:!1,method:"get",type:b.SDK_ERROR,log:t})}],b.SDK_ERROR)(t)},ot.prototype.destroy=function(t){void 0===t&&(t=!1);var e,n,r=ot.instances.indexOf(this);-1!==r&&ot.instances.splice(r,1);for(var o=ot.installedPlugins.length-1;0<=o;o--)try{ot.installedPlugins[o].unpatch(this)}catch(t){this.sendSDKError(t)}if(this.lifeCycle.emit("destroy"),this.lifeCycle.clear(),t)e=this,n=Object.getOwnPropertyDescriptors(e),Object.keys(n).forEach((function(t){n[t].writable&&(e[t]=null)})),Object.setPrototypeOf(this,null);else{for(var i=this;i.constructor!==Object&&k(i,this),i=Object.getPrototypeOf(i););0===ot.instances.length&&(k(r=Object.getPrototypeOf(this).constructor),k(ot))}},ot.version="1.36.13",ot.instances=[],ot.logType=m,ot.environment=w,ot.installedPlugins=[],ot),$=(rt.prototype.patch=function(t){this.canUse(t)&&this.exist(t)&&(this.instances.push(t),this.triggerInit(t),this.triggerOnNewAegis(t))},rt.prototype.unpatch=function(t){-1!==(t=this.instances.indexOf(t))&&this.instances.splice(t,1)},rt.prototype.countInstance=function(){return this.instances.length},rt.prototype.uninstall=function(){var t;null!=(t=null==(t=this.option)?void 0:t.destroy)&&t.apply(this)},rt.prototype.walk=function(t){var e=this;this.instances.forEach((function(n){var r=e.canUse(n);r&&t(n,r)}))},rt.prototype.canUse=function(t){return!(!(t=this.getConfig(t))||"object"!=r()(t))||!!t},rt.prototype.getConfig=function(t){return null==(t=t.config)?void 0:t[this.name]},rt.prototype.exist=function(t){return-1===this.instances.indexOf(t)},rt.prototype.triggerInit=function(t){var e;this.inited||(this.inited=!0,null!=(e=null==(e=this.option)?void 0:e.init)&&e.call(this.option,this.getConfig(t)))},rt.prototype.triggerOnNewAegis=function(t){var e;null!=(e=null==(e=this.option)?void 0:e.onNewAegis)&&e.call(this.option,t,this.getConfig(t))},rt),z=new $({name:"aid",aid:"",init:function(t){try{var e=!0!==t&&t||window.localStorage.getItem("AEGIS_ID");e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),window.localStorage.setItem("AEGIS_ID",e)),this.aid=e}catch(t){}},onNewAegis:function(t){t.bean.aid=this.aid,t.config.aid=this.aid}}),J=function(t){var e;return t.payload?(e={},Object.keys(t).forEach((function(n){"payload"!==n&&(e[n]=t[n])})),e):t},K=new $({name:"reportAssetSpeed"}),Q=K=new $({name:"reportAssetSpeed",collectCur:0,collectEntryType:"resource",ASSETS_INITIATOR_TYPE:["img","css","script","link","audio","video"],onNewAegis:function(t){var e=this;_()&&(this.collectSuccessLog(t),this.collectFailLog(t),performance.onresourcetimingbufferfull=function(){e.collectCur=0,performance.clearResourceTimings()})},publish:function(t){this.$walk((function(e){e.speedLogPipeline(t)}))},publishMany:function(t,e){for(var n=e.config,r=0,o=t.length;r<o;r++){var i=t[r];-1!==this.ASSETS_INITIATOR_TYPE.indexOf(i.initiatorType)&&-1===i.name.indexOf("cdn-go.cn/aegis/aegis-sdk")&&this.publish(this.generateLog(i,n))}},collectSuccessLog:function(t){var e,n,r=this;"function"==typeof window.PerformanceObserver?(this.publishMany(performance.getEntriesByType(this.collectEntryType),t),(e=new window.PerformanceObserver((function(e){r.publishMany(e.getEntries(),t)}))).observe({entryTypes:[this.collectEntryType]}),t.lifeCycle.on("destroy",(function(){0===K.countInstance()&&e.disconnect()}))):(n=setInterval((function(){var e=performance.getEntriesByType(r.collectEntryType),n=e.slice(r.collectCur);r.collectCur=e.length,r.publishMany(n,t)}),3e3),t.lifeCycle.on("destroy",(function(){0===K.countInstance()&&clearInterval(n)})))},collectFailLog:function(t){function e(t){var e,o;t&&(t=t.target||t.srcElement,e=(null==t?void 0:t.src)||(null==t?void 0:t.href),t=null==t?void 0:t.tagName,!e||"string"!=typeof e||"IMG"===t&&-1<window.location.href.indexOf(e)||(t="function"==typeof(null==(t=r.api)?void 0:t.resourceTypeHandler)?null==(t=r.api)?void 0:t.resourceTypeHandler(e):"",o=performance.getEntriesByType(n.collectEntryType).find((function(t){return t.name===e})),o={url:d(e),status:400,duration:Number(((null==o?void 0:o.duration)||0).toFixed(2)),method:"get",type:t||"static",isHttps:h(e),urlQuery:d(e,!0),domainLookup:0,connectTime:0},n.publish(o)))}var n=this,r=t.config;window.document.addEventListener("error",e,!0),t.lifeCycle.on("destroy",(function(){0===K.countInstance()&&window.document.removeEventListener("error",e,!0)}))},generateLog:function(t,e){var n;e="function"==typeof(null==(n=e.api)?void 0:n.resourceTypeHandler)?null==(n=e.api)?void 0:n.resourceTypeHandler(t.name):"";return{url:d(t.name),method:"get",duration:Number(t.duration.toFixed(2)),status:200,type:e||"static",isHttps:h(t.name),urlQuery:d(t.name,!0),domainLookup:p(t.domainLookupEnd-t.domainLookupStart),connectTime:p(t.connectEnd-t.connectStart)}},collectNotReportedLog:function(t){var e=performance.getEntriesByType(this.collectEntryType),n=e.length;"function"!=typeof window.PerformanceObserver&&this.collectCur!==n&&(e=e.slice(this.collectCur),this.collectCur=n,this.publishMany(e,t,!0))},destroy:function(){this.option.publish=function(){}}}),Y=!1,Z=[],tt=!1,et=[],nt=(new $({name:"reportApiSpeed"}),new $({name:"reportApiSpeed",override:!1,onNewAegis:function(t){this.override||(this.override=!0,this.overrideFetch(t.config),this.overrideXhr(t.config))},overrideFetch:function(t){var e,n=this,r={name:this.name,then:function(e,r,o,i){var u,a,s;t.hostUrl&&-1<o.indexOf(t.hostUrl)||(u={url:e.url,isHttps:h(e.url),method:(null==i?void 0:i.method)||"get",duration:r,type:"fetch",status:e.status||0},"fetch"!==(s="function"==typeof(null==(a=t.api)?void 0:a.resourceTypeHandler)?null==(a=t.api)?void 0:a.resourceTypeHandler(e.url):s)&&"static"!==s&&(a=e.headers?e.headers.get("content-type"):"",s=e.ok&&"string"==typeof a&&v(a)?"static":"fetch"),"fetch"===s?e.clone().text().then((function(a){var c=null==(c=t.api)?void 0:c.apiDetail,s=e.status<=0||400<=e.status,f=(l=g(a,t.api,{url:o,ctx:e})).code,l=l.isErr;c=(s?"FETCH_ERROR: "+a+" \n\n":"")+"req url: "+o+" \n                                \nreq method: "+((null==i?void 0:i.method)||"get")+" \n                                \nreq param: "+(c?y(null==i?void 0:i.body):"")+" \n                                \nres duration: "+r+"ms \n                                \nres status: "+(e.status||0)+" \n                                \nres retcode: "+f+"\n                                \nres data: "+(c?a:"");u.payload=new T(e,a),u.ret=f,u.isErr=+l,n.publishNormalLog({msg:c,level:s?m.AJAX_ERROR:l?m.RET_ERROR:m.API_RESPONSE,code:f,ctx:e})})):Object.assign(u,{type:"static",urlQuery:d(e.url,!0),domainLookup:c.number,connectTime:c.number}),n.publishSpeed(u))},catch:function(e,r,o,i){var u;if(!(t.hostUrl&&-1<o.indexOf(t.hostUrl)))throw u={url:o,isHttps:h(o),method:(null==i?void 0:i.method)||"get",duration:r,type:"fetch",status:0},n.publishSpeed(u),u=null==(u=t.api)?void 0:u.apiDetail,r="AJAX_ERROR: "+e+"\n                          \nres status: 0\n                          \nres duration: "+r+"ms\n                          \nreq url: "+o+"\n                          \nreq method: "+((null==i?void 0:i.method)||"get")+"\n                          \nreq param: "+(u?y(null==i?void 0:i.body):""),n.publishNormalLog({msg:r,level:m.AJAX_ERROR,code:-400,ctx:e}),e}},o=(this.hackFetchOptions=r,this.hackFetchOptions);if(et.find((function(t){return t.name===o.name})))throw new Error("name '"+o.name+"' is already in hackFetch option list");et.push(o),!tt&&window.fetch&&(tt=!0,e=window.fetch,window.fetch=function(t,n){void 0===n&&(n={});for(var r="string"==typeof t?t:t.url,o=0;o<et.length;o++){var i=et[o];try{"function"==typeof i.beforeFetch&&i.beforeFetch(r,n)}catch(t){}}var u=Date.now();return e(t,n).then((function(t){for(var e=0;e<et.length;e++){var o=et[e];try{"function"==typeof o.then&&o.then(t,Date.now()-u,r,n)}catch(t){}}return t})).catch((function(t){for(var e=0;e<et.length;e++){var o=et[e];try{"function"==typeof o.catch&&o.catch(t,Date.now()-u,r,n)}catch(t){}}throw t}))})},getRequestType:function(t,e,n){var r;return"fetch"!==(t="function"==typeof(null==(r=t.api)?void 0:r.resourceTypeHandler)?null==(r=t.api)?void 0:r.resourceTypeHandler(n):"")&&"static"!==t&&(r=e.getResponseHeader("content-type"),t=400<=e.status||"string"!=typeof r||!v(r)?"fetch":"static"),t},overrideXhr:function(t){var e=this,n={name:this.name,send:function(n,r){var o=Date.now();n.addEventListener("loadend",(function(){var i,u=n.aegisUrl;if(u){var a=Date.now()-o,s={url:u,isHttps:h(u),status:n.status||0,method:n.aegisMethod||"get",type:"fetch",duration:a,payload:new R(n)};if("fetch"===e.getRequestType(t,n,u))try{var f=null==(i=t.api)?void 0:i.apiDetail,l=g(n.response,t.api,{url:u,ctx:n}),p=l.code,v=l.isErr,b="req url: "+u+" \n                                \nreq method: "+s.method+" \n                                \nreq param: "+(f?y(r):"")+" \n                                \nres duration: "+a+"ms \n                                \nres status: "+s.status+" \n                                \nres retcode: "+p+"\n                                \nres data: "+(f?y(n.response):"");s.ret=p,s.isErr=+v,e.publishNormalLog({msg:b,level:v?m.RET_ERROR:m.API_RESPONSE,code:p,ctx:n})}catch(i){s.ret="unknown"}else Object.assign(s,{type:"static",urlQuery:d(u,!0),domainLookup:c.number,connectTime:c.number});e.publishSpeed(s)}}))}};this.hackXHROptions=n,M(this.hackXHROptions)},publishSpeed:function(t){var e=this;t.url=d(t.url),this.$walk((function(n){var r=e.$getConfig(n);"fetch"===t.type&&r&&"function"==typeof r.urlHandler?n.speedLogPipeline(i(i({},t),{url:encodeURIComponent(r.urlHandler(t.url,t.payload))})):n.speedLogPipeline(t)}))},publishNormalLog:function(t){this.$walk((function(e){e.normalLogPipeline(t)}))},destroy:function(){var t,e;this.option.publishSpeed=function(){},this.option.publishNormalLog=function(){},this.option.hackXHROptions&&U(this.option.hackXHROptions),this.option.hackFetchOptions&&(t=this.option.hackFetchOptions,-1!==(e=et.findIndex((function(e){return e.name===t.name})))&&et.splice(e,1))}}));function rt(t){this.aegisPlugin=!0,this.name="",this.instances=[],this.inited=!1,t.$walk=this.walk.bind(this),t.$getConfig=this.getConfig.bind(this),this.option=t,this.name=t.name}function ot(t){var e,n,r,o,i,u,a,c,f,l,p,d,h,v,g,y=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:5,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,onClose:!0,hostUrl:"https://aegis.qq.com",env:"production",url:"",offlineUrl:"",whiteListUrl:"",pvUrl:"",speedUrl:"",customTimeUrl:"",performanceUrl:"",webVitalsUrl:"",eventUrl:"",setDataReportUrl:""},this.isWhiteList=!1,this.lifeCycle=new s,this.bean={},this.normalLogPipeline=N([L(this,5),A,function(t,n){var r=e.config;n(t=t.map((function(t){var e,n=r.maxLength||204800;try{if(!t.msg||t.msg.length<=n)return t;t.msg=null==(e=t.msg)?void 0:e.substring(0,n)}catch(e){t.msg=S(t.msg).substring(0,r.maxLength)}return t})))},(v=(e=this).config,g={},function(t,e){var n="number"==typeof v.repeat?v.repeat:5;if(0===n)return e(t);e(t.filter((function(t){return t.level!==m.ERROR&&t.level!==m.PROMISE_ERROR&&t.level!==m.AJAX_ERROR&&t.level!==m.SCRIPT_ERROR&&t.level!==m.IMAGE_ERROR&&t.level!==m.CSS_ERROR&&t.level!==m.MEDIA_ERROR||(g[t.msg]=g[t.msg]||0,g[t.msg]+=1,!(g[t.msg]>n))})))}),(d=this.lifeCycle.emit,h=this.config,function(t,e){var n,r=h.logCreated;return"function"==typeof r?(n=t.filter((function(t){return!1!==r(t)})),d("beforeWrite",n),e(n)):(d("beforeWrite",t),e(t))}),(p=this,setTimeout((function(){var t=p.config.pvUrl,e=void 0===t?"":t;e&&p.sendPipeline([function(t,n){n({url:e,type:b.PV,fail:function(t){"403 forbidden"===t&&p.destroy()}})}],b.PV)(null)}),100),function(t,e){e(t)}),(f=c=a=!1,l=[],(i=this).lifeCycle.on("onConfigChange",(function(){u&&clearTimeout(u),u=setTimeout((function(){var t,e;!f&&i.config&&(f=!0,t=i.config.whiteListUrl,(e=void 0===t?"":t)&&i.sendPipeline([function(t,n){n({url:e,type:b.WHITE_LIST,success:function(t){c=!0;try{var e=t.data||JSON.parse(t),n=e.retcode,r=e.result,o=void 0===r?{}:r;if(0===n){if(a=o.is_in_white_list,i.isWhiteList=a,o.shutdown)return void i.destroy();0<=o.rate&&o.rate<=1&&(i.config.random=o.rate,i.isGetSample=!1)}i.isWhiteList&&l.length?W(i)(l.splice(0),(function(){})):!i.isWhiteList&&l.length&&(l.length=0);var u=i.config.onWhitelist;"function"==typeof u&&u(a)}catch(t){}},fail:function(t){"403 forbidden"===t&&i.destroy(),c=!0}})}],b.WHITE_LIST)(null),f=!1)}),i.config.uin?50:500)})),i.lifeCycle.on("destroy",(function(){l.length=0})),function(t,e){var n;a||null!=(n=null==(n=i.config)?void 0:n.api)&&n.reportRequest?e(t.concat(l.splice(0)).map((function(t){return H(t),t}))):(n=t.filter((function(t){return t.level!==m.INFO&&t.level!==m.API_RESPONSE?(H(t),!0):(c||(l.push(t),200<=l.length&&(l.length=200)),!1)}))).length&&e(n)}),function(t,e){try{var n=JSON.parse(JSON.stringify(t)),r=(y.lifeCycle.emit("beforeReport",n),y.config.beforeReport);(t="function"==typeof r?t.filter((function(t){return!1!==r(t)})):t).length&&e(t)}catch(t){}},W(this)]),this.eventPipeline=N([L(this,5),(o=this,function(t){o.sendPipeline([function(t,e){var n=t.map((function(t){return{name:t.name,ext1:t.ext1||o.config.ext1||"",ext2:t.ext2||o.config.ext2||"",ext3:t.ext3||o.config.ext3||""}}));e({url:o.config.eventUrl+"?payload="+encodeURIComponent(JSON.stringify(n)),type:b.EVENT,log:t,fail:function(t){"403 forbidden"===t&&o.destroy()}})}],b.EVENT)(t)})]),this.timeMap={},this.failRequestCount=0,this.customTimePipeline=N([L(this,5),(r=this,function(t){return r.sendPipeline([function(t,e){e({url:r.config.customTimeUrl+"?payload="+encodeURIComponent(JSON.stringify({custom:t})),type:b.CUSTOM,log:t,fail:function(t){"403 forbidden"===t&&r.destroy()}})}],b.CUSTOM)(t)})]),this.config=(n=this.config,void 0===(t=t.hostUrl)&&(t="https://aegis.qq.com"),n.url=n.url||t+"/collect",n.offlineUrl=n.offlineUrl||t+"/offline",n.whiteListUrl=n.whiteListUrl||t+"/collect/whitelist",n.pvUrl=n.pvUrl||t+"/collect/pv",n.eventUrl=n.eventUrl||t+"/collect/events",n.speedUrl=n.speedUrl||t+"/speed",n.customTimeUrl=n.customTimeUrl||t+"/speed/custom",n.performanceUrl=n.performanceUrl||t+"/speed/performance",n.webVitalsUrl=n.webVitalsUrl||t+"/speed/webvitals",n.setDataReportUrl=n.SetDataReportUrl||t+"/speed/miniProgramData",n),ot.instances.push(this)}(ht=D=D||{})[ht.unknown=100]="unknown",ht[ht.wifi=1]="wifi",ht[ht.net2g=2]="net2g",ht[ht.net3g=3]="net3g",ht[ht.net4g=4]="net4g",ht[ht.net5g=5]="net5g",ht[ht.net6g=6]="net6g",(ht=q=q||{})[ht.android=1]="android",ht[ht.ios=2]="ios",ht[ht.windows=3]="windows",ht[ht.macos=4]="macos",ht[ht.linux=5]="linux",ht[ht.other=100]="other";var it,ut,at,ct,st,ft,lt,pt,dt,ht=new $({name:"device",onNewAegis:function(t){t.extendBean("platform",this.getPlatform()),t.extendBean("netType",D.unknown),this.getDpi(t),this.refreshNetworkTypeToBean(t)},getDpi:function(t){t.extendBean("vp",Math.round(window.innerWidth)+" * "+Math.round(window.innerHeight)),window.screen&&t.extendBean("sr",Math.round(window.screen.width)+" * "+Math.round(window.screen.height))},getPlatform:function(){var t={android:/\bAndroid\s*([^;]+)/,ios:/\b(iPad|iPhone|iPod)\b.*? OS ([\d_]+)/,windows:/\b(Windows NT)/,macos:/\b(Mac OS)/,linux:/\b(Linux)/i},e=Object.keys(t).find((function(e){return t[e].test(navigator.userAgent)}));return e?q[e]:q.other},refreshNetworkTypeToBean:function(t){var e=this,n=t.config;n&&("function"==typeof n.getNetworkType?n.getNetworkType:vt)((function(n){D[n]||(n=D.unknown),t.extendBean("netType",n),e.NetworkRefreshTimer=setTimeout((function(){e.refreshNetworkTypeToBean(t),clearTimeout(e.NetworkRefreshTimer)}),1e4)}))}}),vt=function(t){var e="",n=navigator.userAgent.match(/NetType\/(\w+)/);n?e=n[1]:navigator.connection&&(e=navigator.connection.effectiveType||navigator.connection.type),t((n=e=e||"unknown",0<=(n=String(n).toLowerCase()).indexOf("4g")?D.net4g:0<=n.indexOf("wifi")?D.wifi:0<=n.indexOf("5g")?D.net5g:0<=n.indexOf("6g")?D.net6g:0<=n.indexOf("3g")?D.net3g:0<=n.indexOf("2g")?D.net2g:D.unknown))},gt=new $({name:"onError"}),yt=gt=new $({name:"onError",onNewAegis:function(t){this.startListen(t)},startListen:function(t){function e(t){t=t&&S(t.reason),r.publishErrorLog({msg:"PROMISE_ERROR: "+t,level:m.PROMISE_ERROR})}function n(t){if(t=(null==t?void 0:t.target)||(null==t?void 0:t.srcElement)){var e=t.src||t.href;t=t.tagName;if("string"==typeof e&&t){var n={msg:t+" load fail: "+e,level:m.INFO};switch(t.toLowerCase()){case"script":n.level=m.SCRIPT_ERROR;break;case"link":n.level=m.CSS_ERROR;break;case"img":if(-1<window.location.href.indexOf(e))return;n.level=m.IMAGE_ERROR;break;case"audio":case"video":n.level=m.MEDIA_ERROR;break;default:return}r.publishErrorLog(n)}}}var r=this,o=window.onerror,i=(window.onerror=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.publishErrorLog({msg:(S(t[0])||"")+" @ ("+(S(t[1])||"")+":"+(t[2]||0)+":"+(t[3]||0)+")\n          \n"+S(t[4]||""),level:m.ERROR}),null!=o&&o.call.apply(o,u([window],t))},window.addEventListener("unhandledrejection",e),window.document.addEventListener("error",n,!0),t.lifeCycle.on("destroy",(function(){0===gt.countInstance()&&(window.document.removeEventListener("unhandledrejection",e),window.document.removeEventListener("error",n,!0))})),this),a={name:this.name,send:function(e,n){e.addEventListener("loadend",(function(){var r,o,u="";this.failType?u=this.failType:this.status?400<=this.status&&(u="error"):u="failed",t.config.hostUrl&&this.aegisUrl&&-1<this.aegisUrl.indexOf(t.config.hostUrl)||(r=null==(r=t.config.api)?void 0:r.apiDetail,u&&(o=e.aegisUrl,o=g(e.response,t.config.api,{url:o,ctx:e}).code,i.publishErrorLog({msg:"AJAX_ERROR: request "+u+"\n                      \nreq url: "+this.aegisUrl+"\n                      \nres status: "+(this.status||0)+"\n                      \nres retcode: "+o+"\n                      \nres duration: "+(Date.now()-e.aegisXhrStartTime)+"ms\n                      \nreq method: "+this.aegisMethod+"\n                      \nreq param: "+(r?y(n):"")+"\n                      \nres data: "+(r?null===(o=(u=e).responseType&&"text"!==u.responseType?"":u.responseText)||void 0===o?void 0:o.slice(0,1e3):""),level:m.AJAX_ERROR,ctx:e})))})),e.addEventListener("timeout",(function(){e.failType="timeout"})),e.addEventListener("error",(function(){e.failType="error"})),e.addEventListener("abort",(function(){e.failType="abort"}))}};this.hackXHROptions=a,M(this.hackXHROptions)},publishErrorLog:function(t){this.$walk((function(e){e.normalLogPipeline(t)}))},destroy:function(){this.option.publishErrorLog=function(){},this.option.hackXHROptions&&U(this.option.hackXHROptions)}}),mt=(new $({name:"pagePerformance"}),1),bt=new $({name:"pagePerformance",onNewAegis:function(t){var e=this;if(_())if(it)this.publish(it,t);else try{this.getFirstScreenTiming(t,(function(n){var r,o=performance.timing;o&&(r=o.loadEventStart-o.domInteractive,it={dnsLookup:o.domainLookupEnd-o.domainLookupStart,tcp:o.connectEnd-o.connectStart,ssl:0===o.secureConnectionStart?0:o.requestStart-o.secureConnectionStart,ttfb:o.responseStart-o.requestStart,contentDownload:o.responseEnd-o.responseStart,domParse:o.domInteractive-o.domLoading,resourceDownload:r=r<0?1070:r,firstScreenTiming:Math.floor(n)},e.publish(it,t))}))}catch(t){}},publish:function(t,e){var n=this;e.sendPipeline([function(t,r){var o,i=[];for(o in t)i.push(o+"="+t[o]);var u,a=n.$getConfig(e);if(a)return u=-1===e.config.performanceUrl.indexOf("?")?"?":"&","function"==typeof a.urlHandler?r({url:e.config.performanceUrl+u+i.join("&")+"&from="+(encodeURIComponent(a.urlHandler())||window.location.href),beanFilter:["from"],type:b.PERFORMANCE,log:t}):r({url:e.config.performanceUrl+u+i.join("&"),type:b.PERFORMANCE,log:t})}],b.PERFORMANCE)(t)},getFirstScreenTiming:function(t,e){t.lifeCycle.on("destroy",(function(){s&&clearTimeout(s)}));var n=["script","style","link","br"],o=[],i=this,u={},a=new MutationObserver((function(t){var e={roots:[],rootsDomNum:[],time:performance.now()};t.forEach((function(t){t&&t.addedNodes&&t.addedNodes.forEach&&t.addedNodes.forEach((function(t){1===t.nodeType&&(t.hasAttribute("AEGIS-FIRST-SCREEN-TIMING")||t.querySelector("[AEGIS-FIRST-SCREEN-TIMING]"))?(Object.prototype.hasOwnProperty.apply(u,[e.time])||(u[e.time]=[]),u[e.time].push(t)):1!==t.nodeType||-1!==n.indexOf(t.nodeName.toLocaleLowerCase())||i.isEleInArray(t,e.roots)||t.hasAttribute("AEGIS-IGNORE-FIRST-SCREEN-TIMING")||(e.roots.push(t),e.rootsDomNum.push(i.walkAndCount(t)||0))}))})),e.roots.length&&o.push(e)})),c=(a.observe(document,{childList:!0,subtree:!0}),function(){var n=0,f=0,l=Object.keys(u).filter((function(t){return u[+t].find((function(t){return i.isInFirstScreen(t)}))}));l.length?(f=Math.max.apply(null,l),("object"!=r()(null==(l=t.config)?void 0:l.pagePerformance)||null!=(l=t.config.pagePerformance)&&l.firstScreenInfo)&&(t.firstScreenInfo={element:null==(l=u[f])?void 0:l[0],timing:f,markDoms:u})):o.forEach((function(e){for(var o,u=0;u<e.roots.length;u++)e.rootsDomNum[u]>n&&i.isInFirstScreen(e.roots[u])&&(n=e.rootsDomNum[u],f=e.time,("object"!=r()(null==(o=t.config)?void 0:o.pagePerformance)||null!=(o=t.config.pagePerformance)&&o.firstScreenInfo)&&(t.firstScreenInfo={element:e.roots[u],timing:f}))})),!f&&mt?s=setTimeout((function(){return c()}),3e3):(a.disconnect(),null!=e&&e(f)),--mt}),s=setTimeout((function(){return c()}),3e3)},isEleInArray:function(t,e){return!(!t||t===document.documentElement)&&(-1!==e.indexOf(t)||this.isEleInArray(t.parentElement,e))},isInFirstScreen:function(t){if(!t||"function"!=typeof t.getBoundingClientRect)return!1;t=t.getBoundingClientRect();var e=window.innerHeight,n=window.innerWidth;return 0<=t.left&&t.left<n&&0<=t.top&&t.top<e&&0<t.width&&0<t.height},walkAndCount:function(t){var e=0;if(t&&1===t.nodeType){e+=1;var n=t.children;if(null!=n&&n.length)for(var r=0;r<n.length;r++)e+=this.walkAndCount(n[r])}return e}});function wt(){st=[],at=-1,ut=null,Ot(addEventListener)}function xt(t,e){ut||(ut=e,at=t,ct=new Date,Ot(removeEventListener),Et())}function Et(){var t;0<=at&&at<ct-lt&&(t={entryType:"first-input",name:ut.type,target:ut.target,cancelable:ut.cancelable,startTime:ut.timeStamp,processingStart:ut.timeStamp+at},st.forEach((function(e){e(t)})),st=[])}function Ot(t){["mousedown","keydown","touchstart","pointerdown"].forEach((function(e){return t(e,pt,ft)}))}function St(t,e){return{name:t,value:void 0===e?-1:e,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}}function Rt(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}}function Tt(t){addEventListener("pageshow",(function(e){e.persisted&&t(e)}),!0)}function Pt(t,e,n){var r;return function(){0<=e.value&&(n||kt.has(e)||"hidden"===document.visibilityState)&&(e.delta=e.value-(r||0),!e.delta&&void 0!==r||(r=e.value,t(e)))}}function It(){Nt((function(t){t=t.timeStamp,_t=t}),!0)}function Lt(){return _t<0&&((_t=self.webVitals.firstHiddenTime)===1/0&&It(),Tt((function(){setTimeout((function(){_t="hidden"===document.visibilityState?0:1/0,It()}),0)}))),{get timeStamp(){return _t}}}function At(t){var e=t.name;t=t.value;Ft[e]=t}ft={passive:!0,capture:!0},lt=new Date,pt=function(t){var e,n,r,o;function i(){xt(n,r),o()}function u(){o()}t.cancelable&&(e=(1e12<t.timeStamp?new Date:performance.now())-t.timeStamp,"pointerdown"==t.type?(n=e,r=t,o=function(){removeEventListener("pointerup",i,ft),removeEventListener("pointercancel",u,ft)},addEventListener("pointerup",i,ft),addEventListener("pointercancel",u,ft)):xt(e,t))},dt="hidden"===document.visibilityState?0:1/0,addEventListener("visibilitychange",(function t(e){"hidden"===document.visibilityState&&(dt=e.timeStamp,removeEventListener("visibilitychange",t,!0))}),!0),wt(),self.webVitals={firstInputPolyfill:function(t){st.push(t),Et()},resetFirstInputPolyfill:wt,get firstHiddenTime(){return dt}};var Ct,jt,Nt=function(t,e){function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))}addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},kt=new("function"==typeof WeakSet?WeakSet:Set),_t=-1,Ft=(new $({name:"webVitals"}),{FCP:-1,LCP:-1,FID:-1,CLS:-1}),Mt=new $({name:"webVitals",onNewAegis:function(t){if(_()&&"function"==typeof window.PerformanceObserver)try{y=At,b=Lt(),w=St("FCP"),x=performance.getEntriesByName("first-contentful-paint")[0],E=x?null:Rt("paint",R),(x||E)&&(m=Pt(y,w,void 0),x&&R(x),Tt((function(t){w=St("FCP"),m=Pt(y,w,void 0),requestAnimationFrame((function(){requestAnimationFrame((function(){w.value=performance.now()-t.timeStamp,kt.add(w),m()}))}))}))),l=At,h=Lt(),v=St("LCP"),(g=Rt("largest-contentful-paint",S))&&(p=Pt(l,v,void 0),d=function(){kt.has(v)||(g.takeRecords().map(S),g.disconnect(),kt.add(v),p())},["keydown","click"].forEach((function(t){addEventListener(t,d,{once:!0,capture:!0})})),Nt(d,!0),Tt((function(t){v=St("LCP"),p=Pt(l,v,void 0),requestAnimationFrame((function(){requestAnimationFrame((function(){v.value=performance.now()-t.timeStamp,kt.add(v),p()}))}))}))),u=At,a=Lt(),c=St("FID"),s=Rt("first-input",O),f=Pt(u,c,void 0),s&&Nt((function(){s.takeRecords().map(O),s.disconnect()}),!0),s||window.webVitals.firstInputPolyfill(O),Tt((function(){c=St("FID"),f=Pt(u,c,void 0),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(O)})),n=At,o=St("CLS",0),(i=Rt("layout-shift",e))&&(r=Pt(n,o,void 0),Nt((function(){i.takeRecords().map(e),r()})),Tt((function(){o=St("CLS",0),r=Pt(n,o,void 0)}))),F(this.publish.bind(this,t),!0)}catch(t){}function e(t){t.hadRecentInput||(o.value+=t.value,o.entries.push(t),r())}var n,r,o,i,u,a,c,s,f,l,p,d,h,v,g,y,m,b,w,x,E;function O(t){t.startTime<a.timeStamp&&(c.value=t.processingStart-t.startTime,c.entries.push(t),kt.add(c),f())}function S(t){var e=t.startTime;e<h.timeStamp&&(v.value=e,v.entries.push(t)),p()}function R(t){"first-contentful-paint"===t.name&&(E&&E.disconnect(),t.startTime<b.timeStamp&&(w.value=t.startTime,w.entries.push(t),kt.add(w),m()))}},publish:function(t){t.sendPipeline([function(e,n){var r,o=[];for(r in e)o.push(r+"="+e[r]);var i=-1===t.config.performanceUrl.indexOf("?")?"?":"&";n({url:t.config.webVitalsUrl+i+o.join("&"),type:b.VITALS,log:e,sendBeacon:!0})}],b.VITALS)(Ft)},destroy:function(){this.option.publish=function(){}}}),Ut=0,Dt=(o(jt=Ht,X=Ct=X),jt.prototype=null===X?Object.create(X):(Vt.prototype=X.prototype,new Vt),Ht.prototype.getBean=function(t){var e=this;return void 0===t&&(t=[]),""+Object.getOwnPropertyNames(this.bean).filter((function(e){return-1===t.indexOf(e)})).map((function(t){return t+"="+e.bean[t]})).join("&")},Ht.prototype.resetRequesting=function(){var t;this.sendNow||(this.requesting=!1,(t=this.requestQueue.shift())&&this.request(t.options,t.success,t.fail))},Ht.prototype.request=function(t,e,n){var o,i=this;if(t&&"string"==typeof t.url&&""!==t.url&&this.bean.id)if(this.sendNow||!this.requesting){this.requesting=!0;var u=t.url,a=(u=(!1!==t.addBean&&(u=u+(-1===u.indexOf("?")?"?":"&")+this.getBean(t.beanFilter)),t.url=u,t.method||"get"),this.config.onBeforeRequest);if(!(t=a?a(t,this):t))return this.resetRequesting(),console.warn("Sending request blocked");if(!t.url)return this.resetRequesting(),console.warn("Please handle the parameters reasonably, options.url is necessary");if((t.sendBeacon||this.sendNow)&&"function"==typeof navigator.sendBeacon)return this.resetRequesting(),void navigator.sendBeacon(t.url,t.data);var c=new XMLHttpRequest;c.sendByAegis=!0,c.addEventListener("readystatechange",(function(){4===c.readyState&&(i.resetRequesting(),400<=c.status||0===c.status?null!=n&&n(c.response):null!=e&&e(c.response))})),"get"===u.toLocaleLowerCase()?(c.open("get",(a=t.url,o=t.data,"string"!=typeof a?"":"object"==r()(o)&&o?(u=Object.getOwnPropertyNames(o).map((function(t){var e=o[t];return t+"="+("string"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e)))})).join("&").replace(/eval/gi,"evaI"),a+(-1===a.indexOf("?")?"?":"&")+u):a)),c.send()):(c.open("post",t.url),t.contentType&&c.setRequestHeader("Content-Type",t.contentType),"string"==typeof t.data&&(t.data=t.data.replace(/eval/gi,"evaI")),c.send(t.data))}else this.requestQueue.push({options:t,success:e,fail:n})},Ht.useAsyncPlugin=function(t,e){var n,r=void 0===(n=(e=void 0===e?{}:e).exportsConstructor)?"aegis-plugin-"+Ut:n,o=void 0===(n=e.onAegisInit)?function(){}:n,i=void 0===(n=e.onAegisInitAndPluginLoaded)?function(){}:n;if(Ut+=1,"string"!=typeof t)throw new TypeError("useAsyncPlugin first param must be string");if("function"!=typeof o||"function"!=typeof i)throw new TypeError("onAegisInit and onAegisInitAndPluginLoaded must be function");this.use(new $({name:"asyncPlugin",onNewAegis:function(e){try{o(e),Ht.asyncPlugin[t]?i(e,window[Ht.asyncPlugin[t]]):(n=t,u=r,a=function(n){n||(Ht.asyncPlugin[t]=r,n=window[r],i(e,n))},c=document.createElement("script"),s=document.head,"function"==typeof u&&(a=u,u=""),c.src=n,c.setAttribute("name",u),c.name=u,c.setAttribute("crossorigin","anonymous"),c.crossorigin="anonymous",c.defer=!0,c.hasLoaded=!1,c.onreadystatechange=function(){c.hasLoaded||c.readyState&&"loaded"!==c.readyState&&"complete"!==c.readyState||(c.hasLoaded=!0,"function"==typeof a&&a(!1),setTimeout((function(){s.contains(c)&&s.removeChild(c)})))},c.onload=c.onreadystatechange,c.onerror=function(){"function"==typeof a&&a(!0),setTimeout((function(){s.contains(c)&&s.removeChild(c)}))},"complete"===document.readyState?s.appendChild(c):window.addEventListener("load",(function(){s.appendChild(c)})))}catch(n){console.log("error on below is caused by "+t+" "),console.error(n)}var n,u,a,c,s}}))},Ht.prototype.publishPluginsLogs=function(){var t=Ht.installedPlugins.find((function(t){return"reportAssetSpeed"===t.name}));null!=t&&t.option.collectNotReportedLog(this)},Ht.prototype.publishLogsQueue=function(){var t=this;this.sendNow=!0,this.requestQueue.forEach((function(e){e.option&&(e.option=i(i({},e.option),{sendBeacon:!0})),t.request(e)})),this.requestQueue=[]},Ht.prototype.uploadLogs=function(t,e){this.lifeCycle.emit("uploadLogs",t=void 0===t?{}:t,e=void 0===e?{}:e)},Ht.sessionID="session-"+Date.now(),Ht.asyncPlugin={},Ht.urls={aegisCollect:"https://aegis.qq.com/collect",flog:"https://cdn-go.cn/vasdev/web_webpersistance_v2/v1.8.2/flog.core.min.js",shadowLog:""},Ht),qt=new $({name:"offlineLog"}),Bt=(X=qt=new $({name:"offlineLog",onNewAegis:function(t){var e=Dt.urls.flog,n=t.config,r=[],o=null,u=null,a=function(t){u=t},c=function(t){r=r.concat(t)},s=function(t,e){o={conds:t=void 0===t?{}:t,params:e=void 0===e?{}:e}};Dt.useAsyncPlugin(e,{exportsConstructor:"Flog",onAegisInit:function(t){t.lifeCycle.on("beforeWrite",c),t.lifeCycle.on("uploadLogs",s),t.lifeCycle.on("onConfigChange",a)},onAegisInitAndPluginLoaded:function(t,e){var l,p,d,h,v,g,y=void 0===(y=n.dbConfig)?{}:y,w=void 0===(w=n.url)?Dt.urls.aegisCollect:w,x=void 0===(x=n.offlineLogExp)?3:x,E=n.id,O=n.uin;null!=(l=t.lifeCycle)&&l.remove("beforeWrite",c),null!=(l=t.lifeCycle)&&l.remove("uploadLogs",s),null!=(l=t.lifeCycle)&&l.remove("onConfigChange",a),w=Object.assign({lookupUrl:w+"/offlineAuto?id="+E,preservedDay:x,id:E,uin:O,aid:(null==(l=t.bean)?void 0:l.aid)||"",beforeRequest:t.config.beforeRequest,afterRequest:t.config.afterRequest},y,{sessionId:Dt.sessionID});try{var R=new e(w);r.forEach((function(t){R.add(i(i({},t),{level:t.level===m.INFO_ALL?m.INFO:t.level}))})),null!=(p=t.lifeCycle)&&p.on("beforeWrite",(function(t){(t=void 0===t?[]:t).forEach((function(t){R.add(i(i({},t),{level:t.level===m.INFO_ALL?m.INFO:t.level}))}))})),null!=(d=t.lifeCycle)&&d.on("uploadLogs",(function(e,r){var o;void 0===e&&(e={}),void 0===r&&(r={}),R.uploadLogs(Object.assign({id:n.id,uin:n.uin,aid:null==(o=t.bean)?void 0:o.aid},e),r)})),null!=(h=t.lifeCycle)&&h.on("onConfigChange",(function(t){R.setConfig(t)})),null!=(v=t.lifeCycle)&&v.on("destroy",(function(){0===qt.countInstance()&&(r.length=0,"function"==typeof((o=null)==R?void 0:R.destroy)&&R.destroy())})),R.on("PERREVENT",(function(e){t.sendPipeline([function(t,e){var r=f({msg:S(t),level:m.INFO});e({type:b.OFFLINE,data:r,contentType:"application/x-www-form-urlencoded",method:"post",addBean:!1,url:n.url+"?id=893&sessionId="+Dt.sessionID+"&uin="+n.uin+"&from="+n.id+"&count=1&version=1.36.13",log:t})}],b.OFFLINE)(e)})),u&&(R.setConfig(u),u=null),o&&(null!=(g=t.lifeCycle)&&g.emit("uploadLogs",o.conds,o.params),o=null),t.flog=R}catch(t){console.log(t)}}})}}),new $({name:"spa"}),new $({name:"spa",init:function(){history.pushState=this.wr("pushState")||history.pushState,history.replaceState=this.wr("replaceState")||history.replaceState;var t=(null==(t=location.href)?void 0:t.split("?"))[0];this.$fireUrl=t,this.sendPv=this.sendPv.bind(this),this.onPageChange()},onPageChange:function(){window.addEventListener("replaceState",this.sendPv),window.addEventListener("pushState",this.sendPv),window.addEventListener("popstate",this.sendPv)},wr:function(t){var e=history[t];return"function"==typeof e&&!history.__hasWrittenByTamSpa&&(Object.defineProperty(history,"__hasWrittenByTamSpa",{value:!0,enumerable:!1}),function(){var n=e.apply(this,arguments),r=null;return"function"==typeof Event?r=new Event(t):(r=document.createEvent("HTMLEvents")).initEvent(t,!1,!0),window.dispatchEvent(r),n})},sendPv:function(){var t=this;setTimeout((function(){var e=location.href,n=(null==(n=location.href)?void 0:n.split("?"))[0];n&&n!==t.$fireUrl&&(t.$walk((function(t){t.sendPipeline([function(n,r){r({url:t.config.pvUrl+"?from="+encodeURIComponent(e),beanFilter:["from"],type:b.PV})}],b.PV)(null)})),t.$fireUrl=n)}),0)},destroy:function(){window.removeEventListener("replaceState",this.option.sendPv),window.removeEventListener("pushState",this.option.sendPv),window.removeEventListener("popstate",this.option.sendPv)}}));function Ht(t){var e,n,o,u,a,c=Ct.call(this,t)||this;c.sendNow=!1,c.requestQueue=[],c.requesting=!1,c.speedLogPipeline=N([L(c),(u=c.config,a={},function(t,e){var n,o;u.speedSample?(o="object"==r()(u.repeat)?u.repeat:{repeat:u.repeat},n=+o.speed||+o.repeat||5,Array.isArray(t)?(o=t.filter((function(t){var e=!a[t.url]||a[t.url]<n;return a[t.url]=1+~~a[t.url],e}))).length&&e(o):(!a[t.url]||a[t.url]<n)&&(a[t.url]=1+~~a[t.url],e(t))):e(t)}),(o=c,function(t,e){vt((function(n){o.extendBean("netType",n),e(t)}))}),function(t,e){c.lifeCycle.emit("beforeReportSpeed",t);var n=c.config.beforeReportSpeed;if((t="function"==typeof n?t.filter((function(t){var e,r,o=!1!==n(t);return"fetch"===t.type&&void 0===t.ret&&t.payload&&(e=(r=g(t.payload.data.response,c.config.api,{url:t.payload.data.url,ctx:t.payload.data})||{}).code,r=r.isErr,t.ret=e,t.isErr=+r),o})):t).length)return e(t)},function(t){return c.sendPipeline([function(t,e){var n,r,o,u;e({type:b.SPEED,url:""+c.config.speedUrl,method:"post",data:(e=t,n=c.bean,o={fetch:[],static:[]},u=new FormData,Array.isArray(e)?e.forEach((function(t){var e=J(t);o[t.type].push(e)})):(r=J(e),o[e.type].push(r)),u.append("payload",function(t){if("string"==typeof t)return t;try{return JSON.stringify(t,O())||"undefined"}catch(t){return"error happen when aegis stringify: \n "+t.message+" \n "+t.stack}}(i({duration:o},n))),u),log:t})}],b.SPEED)(t)}]),t.asyncPlugin=!0;try{"undefined"!=typeof document&&(t.uin=t.uin||(null!=(e=document.cookie.match(/\buin=\D+(\d*)/))?e:[])[1]||(null!=(n=document.cookie.match(/\bilive_uin=\D*(\d+)/))?n:[])[1]||""),c.init(t),c.extendBean("sessionId",Ht.sessionID),c.extendBean("from",encodeURIComponent(t.pageUrl||location.href)),"undefined"!=typeof document&&c.extendBean("referer",encodeURIComponent(document.referrer||"")),t.ext1&&c.extendBean("ext1",t.ext1),t.ext2&&c.extendBean("ext2",t.ext2),t.ext3&&c.extendBean("ext3",t.ext3)}catch(t){console.warn(t),console.log("%cThe above error occurred in the process of initializing Aegis, which will affect your normal use of Aegis.\nIt is recommended that you contact us for feedback and thank you for your support.","color: red"),c.sendSDKError(t)}return c}function Vt(){this.constructor=jt}function Wt(t){return-1!==Gt.indexOf(t)}new $({name:"ie"});var Gt=window.navigator.userAgent.toLowerCase(),Xt={},$t=(Xt.macos=function(){return Wt("mac")},Xt.ios=function(){return Xt.iphone()||Xt.ipod()||Xt.ipad()},Xt.iphone=function(){return!Xt.windows()&&Wt("iphone")},Xt.ipod=function(){return Wt("ipod")},Xt.ipad=function(){var t="MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;return Wt("ipad")||t},Xt.android=function(){return!Xt.windows()&&Wt("android")},Xt.androidPhone=function(){return Xt.android()&&Wt("mobile")},Xt.androidTablet=function(){return Xt.android()&&!Wt("mobile")},Xt.blackberry=function(){return Wt("blackberry")||Wt("bb10")},Xt.blackberryPhone=function(){return Xt.blackberry()&&!Wt("tablet")},Xt.blackberryTablet=function(){return Xt.blackberry()&&Wt("tablet")},Xt.windows=function(){return Wt("windows")},Xt.windowsPhone=function(){return Xt.windows()&&Wt("phone")},Xt.windowsTablet=function(){return Xt.windows()&&Wt("touch")&&!Xt.windowsPhone()},Xt.fxos=function(){return(Wt("(mobile")||Wt("(tablet"))&&Wt(" rv:")},Xt.fxosPhone=function(){return Xt.fxos()&&Wt("mobile")},Xt.fxosTablet=function(){return Xt.fxos()&&Wt("tablet")},Xt.meego=function(){return Wt("meego")},Xt.cordova=function(){return window.cordova&&"file:"===location.protocol},Xt.nodeWebkit=function(){return"object"==r()(window.process)},Xt.mobile=function(){return Xt.androidPhone()||Xt.iphone()||Xt.ipod()||Xt.windowsPhone()||Xt.blackberryPhone()||Xt.fxosPhone()||Xt.meego()},Xt.tablet=function(){return Xt.ipad()||Xt.androidTablet()||Xt.blackberryTablet()||Xt.windowsTablet()||Xt.fxosTablet()},Xt.desktop=function(){return!Xt.tablet()&&!Xt.mobile()},new $({name:"onClose"}),new $({name:"onClose",onNewAegis:function(){var t,e=this;Xt.desktop()?(t=window.onunload,window.onunload=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];e.publishNotReportedLog(),null!=t&&t.call.apply(t,u([window],n))}):F(this.publishNotReportedLog.bind(this),!0)},publishNotReportedLog:function(){var t=this;this.$walk((function(e){e.sendNow=!0,e.publishPluginsLogs(),e.publishLogsQueue(),t.publishThrottlePipeLogs(e)}))},publishThrottlePipeLogs:function(t){null!=t&&t.speedLogPipeline([]),null!=t&&t.eventPipeline([]),null!=t&&t.customTimePipeline([]),null!=t&&t.normalLogPipeline([])}}));return Dt.use(yt),Dt.use(nt),Dt.use(Q),Dt.use(bt),Dt.use(Mt),Dt.use(z),Dt.use(ht),Dt.use(X),Dt.use(Bt),Dt.use($t),Dt}))}.call(this,n(179)(t))},function(t,e,n){"use strict";var r,o=n(4),i=n(24).f,u=n(10),a=n(205),c=n(16),s=n(206),f=n(26),l="".startsWith,p=Math.min,d=s("startsWith");o({target:"String",proto:!0,forced:!!(f||d||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!d},{startsWith:function(t){var e=String(c(this));a(t);var n=u(p(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return l?l.call(e,r,n):e.slice(n,n+r.length)===r}})}]);
//# sourceMappingURL=aegis-40c78a.js.map